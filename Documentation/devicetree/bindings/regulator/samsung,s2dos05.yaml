# SPDX-License-Identifier: (GPL-2.0 OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/regulator/samsung,s2dos05.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Samsung s2dos05 regulator

maintainers:
  - Dzmitry Sankouski <dsankouski@gmail.com>

description: |
  The S2DOS05 is a companion power management IC for the smart phones. 
  Has 4 LDO and 1 BUCK regulators, and has capability to measure 
  current and power. Can detect short circuit on outputs.

properties:
  compatible:
    const: samsung,s2dos05pmic
  reg:
    maxItems: 1

  regulators:
    type: object
    description: List of regulators and its properties

    patternProperties:
      "^s2dos05-buck1|s2dos05-ldo[1-4]$":
        type: object
        $ref: "regulator.yaml#"
        unevaluatedProperties: false

    additionalProperties: false

required:
  - compatible
  - reg
  - regulators

additionalProperties: false

examples:
  - |
    regulator@60 {
    	compatible = "samsung,s2dos05pmic";
    	reg = <0x60>;
    	adc_mode = <0x2>;
    	adc_sync_mode = <0x2>;
    	pinctrl-names = "default";
    	pinctrl-0 = <&s2dos05_irq>;
    	s2dos05,s2dos05_int = <&tlmm 0x31 0x0>;
    
    	regulators {
    		s2dos05_ldo1: s2dos05-ldo1 {
    			regulator-name = "s2dos05-ldo1";
    			regulator-min-microvolt = <0x16e360>;
    			regulator-max-microvolt = <0x1e8480>;
    			regulator-active-discharge = <0x1>;
                   regulator-always-on;
    		};
    
    		s2dos05_ldo2: s2dos05-ldo2 {
    			regulator-name = "s2dos05-ldo2";
    			regulator-min-microvolt = <0x1b7740>;
    			regulator-max-microvolt = <0x1b7740>;
    			regulator-active-discharge = <0x1>;
    			regulator-boot-on;
                   regulator-always-on;
    		};
    
    		s2dos05_ldo3: s2dos05-ldo3 {
    			regulator-name = "s2dos05-ldo3";
    			regulator-min-microvolt = <0x2dc6c0>;
    			regulator-max-microvolt = <0x2dc6c0>;
    			regulator-active-discharge = <0x1>;
    			regulator-boot-on;
    			regulator-always-on;
    		};
    
    		s2dos05_ldo4: s2dos05-ldo4 {
    			regulator-name = "s2dos05-ldo4";
    			regulator-min-microvolt = <0x2932e0>;
    			regulator-max-microvolt = <0x399a18>;
    			regulator-active-discharge = <0x1>;
    			regulator-always-on;
    		};
    
    		s2dos05_buck1: s2dos05-buck1 {
    			regulator-name = "s2dos05-buck1";
    			regulator-min-microvolt = <0xcf850>;
    			regulator-max-microvolt = <0x200b20>;
    			regulator-active-discharge = <0x1>;
    			regulator-always-on;
    		};
    	};
    };
