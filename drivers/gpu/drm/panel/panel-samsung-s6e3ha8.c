// SPDX-License-Identifier: GPL-2.0-only
// Copyright (c) 2023 FIXME
// Generated with linux-mdss-dsi-panel-driver-generator from vendor device tree:
//   Copyright (c) 2013, The Linux Foundation. All rights reserved. (FIXME)

#include <linux/backlight.h>
#include <linux/delay.h>
#include <linux/gpio/consumer.h>
#include <linux/module.h>
#include <linux/of.h>
#include <linux/regulator/consumer.h>

#include <drm/display/drm_dsc.h>
#include <drm/display/drm_dsc_helper.h>
#include <drm/drm_mipi_dsi.h>
#include <drm/drm_modes.h>
#include <drm/drm_panel.h>

#define S6E3HA8_MIN_BRIGHTNESS		0
#define S6E3HA8_MAX_BRIGHTNESS		100
#define S6E3HA8_DEFAULT_BRIGHTNESS	80

#define S6E3HA8_NUM_GAMMA_STEPS_REV_H		60
#define S6E3HA8_NUM_GAMMA_STEPS S6E3HA8_NUM_GAMMA_STEPS_REV_H
#define S6E3HA8_GAMMA_CMD_CNT		34
#define S6E3HA8_VINT_STATUS_MAX		10

struct s6e3ha8 {
	struct drm_panel panel;
	struct mipi_dsi_device *dsi;
	struct drm_dsc_config dsc;
	struct gpio_desc *reset_gpio;
	struct regulator_bulk_data supplies[3];
	struct backlight_device *bl_dev;
	bool prepared;
};

/*
<3>[ 1027.506858]  [2:crtc_commit:117:  443] msm-dsi-display:[dsi_display_prepare] ++
<6>[ 1027.529912]  [2:crtc_commit:117:  443] dsi-ctrl:[_dsi_ctrl_setup_isr] [DSI_0] IRQ 1011 registered
<6>[ 1027.535755]  [3: irq/352-sec_ts:  320] sec_ts 30-0048: [sec_input] [R] tID:0 mc:3 tc:0 lx:3688 ly:1957 f:-1 v:0130 cal:A2(00) id(0,0) p:0 noise:0 lp:(40/-1) C01T0122.LCIA.L F0201 D0C000
<3>[ 1027.536751]  [2:crtc_commit:117:  443] msm-dsi-display:[dsi_display_prepare] --
<3>[ 1027.536807]  [2:crtc_commit:117:  443] msm-dsi-display:[dsi_display_enable] ++
<3>[ 1027.536860]  [2:crtc_commit:117:  443] msm-dsi-panel:[dsi_panel_enable:4065] ++
<6>[ 1027.536912]  [2:crtc_commit:117:  443] [SDE] ss_panel_on_pre : +
<6>[ 1027.536959]  [2:crtc_commit:117:  443] [SDE] samsung_panel_on_pre : +: ndx=0
<6>[ 1027.537011]  [2:crtc_commit:117:  443] [SDE] ss_panel_attach_set : panel_attach_status : 1
<6>[ 1027.537068]  [2:crtc_commit:117:  443] [SDE] samsung_panel_on_pre : -: ndx=0
<6>[ 1027.537117]  [2:crtc_commit:117:  443] [SDE] ss_panel_on_pre : -
<6>[ 1027.537176]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 9f a5 a5
<6>[ 1027.537264]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.537346]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (01) 07 00 00 02 00 01 01
<6>[ 1027.537426]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.537506]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (01) 05 01 00 0a 00 01 11
<6>[ 1027.547713]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.547797]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 b0 07
<6>[ 1027.547878]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f2 3c 10
<6>[ 1027.547961]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 b0 0b
<6>[ 1027.548041]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 f2 30
<6>[ 1027.548123]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (05) 29 00 00 02 00 05 2a 00 00 05 9f
<6>[ 1027.548208]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (05) 29 00 00 02 00 05 2b 00 00 0b 8f
<6>[ 1027.548292]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 ba 01
<6>[ 1027.548373]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.548455]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 35 00
<6>[ 1027.548536]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.548617]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 ed 4c
<6>[ 1027.548697]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.548778]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 fc 5a 5a
<6>[ 1027.548861]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (06) 29 00 00 02 00 06 c5 0d 10 b4 3e 01
<6>[ 1027.548946]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 fc a5 a5
<6>[ 1027.549029]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.549113]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (10) 29 00 00 02 00 0a b9 00 b0 81 09 00 00 00 11 03
<6>[ 1027.549203]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.549285]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.549366]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 b0 03
<6>[ 1027.549446]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 01 00 0a 00 02 f6 43
<6>[ 1027.549816]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.549900]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 5a 5a
<6>[ 1027.549993]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (35) 29 00 00 02 00 23 ca 07 00 00 00 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 80 00 00 00
<6>[ 1027.550141]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 b1 00 0c
<6>[ 1027.550231]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (23) 29 00 00 02 00 17 b5 19 dc 16 01 34 67 9a cd 01 22 33 44 00 00 05 55 cc 0c 01 11 11 10
<6>[ 1027.550341]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f4 eb 28
<6>[ 1027.550423]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 02 00 02 f7 03
<6>[ 1027.550502]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 02 00 03 f0 a5 a5
<6>[ 1027.550584]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 0a 00 03 9f 5a 5a
<6>[ 1027.550855]  [2:crtc_commit:117:  443] [SDE] ss_panel_on_post : +
<3>[ 1027.550903]  [2:crtc_commit:117:  443] [SDE] self_mask_img_write : ++
<6>[ 1027.550952]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(31): samsung,level1_key_enable_tx_cmds_revA ++
<6>[ 1027.551028]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 5a 5a
<6>[ 1027.551168]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(31): samsung,level1_key_enable_tx_cmds_revA --
<6>[ 1027.551238]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(155): samsung,self_mask_mem_setting ++
<6>[ 1027.551312]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 00 00 02 7a 00
<6>[ 1027.551393]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 01 00 08 00 02 75 10
<6>[ 1027.551530]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(155): samsung,self_mask_mem_setting --
<6>[ 1027.551595]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(158): TX_SELF_MASK_IMAGE not parsed from DTSI ++
<6>[ 1027.551702]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 4c c0 d0 41 f6 45 ee 41 e9 45 dd 41 dc 46 cc 41 be 45 bb 41 b1 45 aa 41 a4 45 99 41 96 46 88 41 78 45 77 41 6b 45 66 41 5e 45 55 41 51 46 44 46 33 41 26 64 22 41 18 67 11 41 0e 82 ce 41 0d 67 11 41 18 64 22 41 26 46 33 46 44 41 51 45 55 41 5e 45 66 41 6b 45 77 41 78 46 88 41 96 45 99 41 a3
<6>[ 1027.552014]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 45 aa 41 b0 45 bb 41 bd 46 cc 41 db 45 dd 41 e8 45 ee 41 f5 c1 67 41 ef 41 ee 41 e9 42 dd 41 d1 41 cc 41 cb 42 bb 41 b3 42 aa 41 a1 43 99 43 88 41 7f 43 77 43 66 41 5d 43 55 43 44 41 3b 43 33 41 2f 46 22 46 11 41 04 84 0a 41 03 46 11 41 21 45 22 41 2e 43 33 41 3a 43 44 41 54 42 55 41 5c
<6>[ 1027.552206]  [3: irq/352-sec_ts:  320] sec_ts 30-0048: [sec_input] [P] tID:0 x:3607 y:1804 z:58 major:15 minor:15 tc:1 type:0 noise:0
<6>[ 1027.552324]  [3:    kworker/3:2:  812] cpufreq_limit_get: touch min same values(1132800,0) entered. just return.
<6>[ 1027.552401]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 43 66 41 76 42 77 41 7f 43 88 41 98 42 99 41 a1 42 aa 41 b3 42 bb 41 cb 41 cc 41 d1 42 dd 41 e9 41 ee 41 ef c1 10 41 f9 41 e9 41 d9 41 cc 41 be 41 b3 41 a9 41 99 41 94 41 88 41 85 41 77 41 75 42 66 42 55 41 45 41 44 41 3d 42 33 41 25 41 22 41 1f 42 11 41 08 84 76 41 07 42 11 41 1f 41 22
<6>[ 1027.552713]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 25 42 33 41 3d 41 44 41 45 42 55 42 66 41 75 41 77 41 84 41 88 41 94 41 99 41 a9 41 b3 41 be 41 cc 41 d9 41 e9 41 f9 c0 e5 41 f9 41 e3 41 cf 41 b9 41 a5 41 91 41 7e 41 6a 41 55 41 40 41 2d 41 1c 41 0b 84 ae 41 0a 41 1a 41 2b 41 3f 41 53 41 69 41 7d 41 91 41 a4 41 b8 41 cf 41 e2 41 f9
<6>[ 1027.553025]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c c0 d1 41 ef 41 cd 41 aa 41 87 41 65 41 41 41 1f 41 02 84 c6 41 02 41 1f 41 41 41 64 41 87 41 aa 41 cd 41 ef c0 c4 41 de 41 b3 41 88 41 5d 41 36 41 14 84 d6 41 13 41 36 41 5d 41 88 41 b3 41 de c0 b9 41 d9 41 a4 41 71 41 40 41 10 84 e2 41 10 41 40 41 70 41 a2 41 d8 41 fe c0 ae 41 f6 41 c1
<6>[ 1027.553338]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 82 41 49 41 12 84 ec 41 10 41 46 41 7e 41 b9 41 f2 c0 a6 41 fd 41 ca 41 82 41 3c 41 07 84 f4 41 03 41 32 41 79 41 c6 41 fc c0 9f 41 ed 41 a8 41 5f 41 15 84 fc 41 0f 41 50 41 9c 41 e9 c0 99 41 e6 41 8e 41 3a 41 03 85 02 41 02 41 39 41 8a 41 df c0 93 41 f3 41 a3 41 47 41 03 85 09 41 34
<6>[ 1027.553645]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 8a 41 e5 c0 8d 41 fc 41 b6 41 5b 41 0b 85 0e 41 03 41 4d 41 b0 41 fa c0 88 41 e7 41 84 41 1e 85 14 41 1b 41 83 41 e8 c0 84 41 c4 41 56 41 05 85 18 41 07 41 5c 41 c9 c0 7f 41 f9 41 a1 41 33 85 1e 41 36 41 a4 41 fa c0 7a 41 f7 41 92 41 1d 85 22 41 22 41 a0 41 fb c0 76 41 f9 41 93 41 1a
<6>[ 1027.553955]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 26 41 27 41 a5 41 fd c0 72 41 fc 41 a1 41 21 85 2a 41 2c 41 ab 41 fe c0 6f 41 bf 41 2a 85 2e 41 32 41 c4 c0 6c 41 e5 41 59 85 31 41 01 41 5d 41 e6 c0 68 41 f9 41 8b 41 0c 85 34 41 0e 41 8c 41 fa c0 65 41 bd 41 2a 85 38 41 2a 41 bc c0 62 41 f2 41 63 85 3c 41 62 41 f1 c0 5f 41 c3 41 21
<6>[ 1027.554266]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 3e 41 21 41 c2 c0 5c 41 f8 41 76 41 02 85 40 41 02 41 76 41 f8 c0 59 41 d0 41 2e 85 44 41 2d 41 d0 c0 57 41 94 41 07 85 46 41 07 41 95 c0 54 41 f9 41 66 85 4a 41 66 41 f9 c0 51 41 e9 41 3b 85 4c 41 3c 41 e9 c0 4f 41 cd 41 1d 85 4e 41 1d 41 cd c0 4d 41 a6 41 09 85 50 41 09 41 a7 c0 4b
<6>[ 1027.554575]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 7c 41 01 85 52 41 01 41 7c c0 48 41 fe 41 6e 85 56 41 6e 41 fe c0 45 41 fc 41 65 85 58 41 65 41 fc c0 43 41 fc 41 5c 85 5a 41 5b 41 fc c0 41 41 f9 41 53 85 5c 41 52 41 f9 c0 3f 41 f7 41 4b 85 5e 41 4a 41 f6 c0 3d 41 fc 41 4e 85 60 41 4e 41 fc c0 3c 41 69 85 62 41 66 41 fe c0 3a 41 7c
<6>[ 1027.554882]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 64 41 78 c0 39 41 96 85 66 41 96 c0 37 41 b1 41 03 85 66 41 03 41 b1 c0 35 41 c8 41 0a 85 68 41 0a 41 c8 c0 33 41 e5 41 16 85 6a 41 15 41 e4 c0 31 41 fc 41 40 85 6c 41 3c 41 fb c0 30 41 7d 85 6e 41 76 c0 2f 41 bc 41 03 85 6e 41 01 41 b3 c0 2d 41 e7 41 18 85 70 41 12 41 e0 c0 2b 41 fc
<6>[ 1027.555189]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 43 85 72 41 37 41 f9 c0 2a 41 83 85 74 41 72 c0 29 41 c7 41 04 85 74 41 02 41 c0 c0 27 41 f4 41 22 85 76 41 21 41 f3 c0 26 41 74 85 78 41 6a c0 25 41 d3 41 04 85 78 41 01 41 c1 c0 23 41 fe 41 41 85 7a 41 32 41 fd c0 22 41 a0 85 7c 41 9a c0 21 41 ec 41 12 85 7c 41 12 41 ec c0 20 41 70
<6>[ 1027.555508]  [3: irq/352-sec_ts:  320] sec_ts 30-0048: [sec_input] sec_ts_read_event: STATUS 1d 3 2 2 2 2 0 0
<6>[ 1027.555570]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 7e 41 6f c0 1f 41 db 41 05 85 7e 41 05 41 db c0 1e 41 53 85 80 41 52 c0 1d 41 cb 41 01 85 80 41 01 41 cb c0 1c 41 4c 85 82 41 4b c0 1b 41 cb 41 01 85 83 41 c9 c0 1a 41 4f 85 84 41 4b c0 19 41 db 41 02 85 84 41 01 41 d5 c0 18 41 6d 85 86 41 6a c0 17 41 ef 41 0c 85 86 41 0c 41 ef c0 16
<6>[ 1027.555870]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 8b 85 88 41 8b c0 15 41 fb 41 1e 85 88 41 1e 41 fb c0 14 41 ab 85 8a 41 a9 c0 14 41 40 85 8a 41 38 c0 13 41 d6 85 8c 41 d5 c0 12 41 7a 85 8c 41 78 c0 11 41 fe 41 1f 85 8c 41 1e 41 fd c0 10 41 c0 85 8e 41 c0 c0 10 41 64 85 8e 41 63 c0 0f 41 f7 41 10 85 8e 41 10 41 f7 c0 0e 41 ab 85 90
<6>[ 1027.556181]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 ab c0 0e 41 4f 85 90 41 4f c0 0d 41 f3 41 08 85 90 41 09 41 f4 c0 0c 41 aa 85 92 41 af c0 0c 41 60 85 92 41 60 c0 0b 41 fe 41 1a 85 92 41 16 41 fd c0 0a 41 c8 85 94 41 cb c0 0a 41 89 85 94 41 85 c0 0a 41 4c 85 94 41 3f c0 09 41 f5 41 09 85 94 41 05 41 f4 c0 08 41 be 85 96 41 bc c0 08
<6>[ 1027.556492]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 82 85 96 41 7f c0 08 41 44 85 96 41 44 c0 07 41 fc 41 0c 85 96 41 0c 41 fc c0 06 41 d6 85 98 41 d6 c0 06 41 a3 85 98 41 a3 c0 06 41 71 85 98 41 71 c0 06 41 40 85 98 41 40 c0 06 41 12 85 98 41 12 c0 05 41 e4 85 9a 41 e6 c0 04 41 b7 85 9a 41 ba c0 04 41 8b 85 9a 41 8e c0 04 41 67 85 9a
<6>[ 1027.556801]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 65 c0 04 41 44 85 9a 41 3d c0 04 41 21 85 9a 41 14 c0 03 41 fb 41 04 85 9b 41 ed c0 02 41 dd 85 9c 41 cc c0 02 41 b8 85 9c 41 ae c0 02 41 96 85 9c 41 90 c0 02 41 74 85 9c 41 72 c0 02 41 58 85 9c 41 58 c0 02 41 42 85 9c 41 42 c0 02 41 27 85 9c 41 27 c0 02 41 10 85 9c 41 10 c0 01 41 f9
<6>[ 1027.557112]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 9e 41 f9 41 e6 85 9e 41 e6 41 d0 85 9e 41 d2 41 bc 85 9e 41 be 41 ac 85 9e 41 ab 41 9e 85 9e 41 98 41 90 85 9e 41 82 41 81 85 9e 41 70 41 73 85 9e 41 5f 41 64 85 9e 41 58 41 56 85 9e 41 4b 41 47 85 9e 41 41 41 3c 85 9e 42 3c 85 9e 41 35 41 2d 85 9e 42 2d 85 9e 42 2d 85 9e 41 28 41 1f
<6>[ 1027.557423]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 9e 42 1e 85 9e 41 1e 41 1c 85 9e 41 1b 41 0f 85 9e 42 0f 85 9e 42 0f 85 9e 41 0e bf ff bf ff 97 e2 41 01 85 9f 41 0f 85 9f 41 0f 85 9f 41 0f 85 9f 41 0f 85 9f 41 1a 85 9e 41 05 41 1e 85 9e 41 0f 41 1e 85 9e 41 11 41 1e 85 9e 41 1e 41 2b 85 9e 41 1e 41 2d 85 9e 41 2d 41 31 85 9e 41 2d
<6>[ 1027.557735]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 3c 85 9e 41 39 41 40 85 9e 41 3c 41 4b 85 9e 41 46 41 4e 85 9e 41 4b 41 5b 85 9e 41 56 41 69 85 9e 41 65 41 77 85 9e 41 74 41 85 85 9e 41 82 41 93 85 9e 41 91 41 a0 85 9e 41 a0 41 b5 85 9e 41 b3 41 cb 85 9e 41 c9 41 e0 85 9e 41 dc 41 f6 85 9e 41 f4 c0 01 41 0b 85 9c 41 08 c0 02 41 24
<6>[ 1027.558045]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 9c 41 20 c0 02 41 41 85 9c 41 3b c0 02 41 5d 85 9c 41 57 c0 02 41 7b 85 9c 41 75 c0 02 41 97 85 9c 41 91 c0 02 41 b4 85 9c 41 ad c0 02 41 d5 85 9c 41 cf c0 02 41 f7 41 01 85 9b 41 f1 c0 03 41 1d 85 9a 41 18 c0 04 41 3f 85 9a 41 3b c0 04 41 64 85 9a 41 60 c0 04 41 87 85 9a 41 84 c0 04
<6>[ 1027.558357]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 b3 85 9a 41 ad c0 04 41 de 85 9a 41 df c0 04 41 fe 41 0e 85 98 41 15 c0 06 41 40 85 98 41 41 c0 06 41 71 85 98 41 6c c0 06 41 a7 85 98 41 9c c0 06 41 df 85 98 41 d7 c0 07 41 1b 85 96 41 12 41 fe c0 07 41 54 85 96 41 49 c0 08 41 8d 85 96 41 83 c0 08 41 ca 85 96 41 be c0 08 41 fc 41 0f
<6>[ 1027.558672]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 85 94 41 08 41 f6 c0 09 41 4d 85 94 41 43 c0 0a 41 8f 85 94 41 86 c0 0a 41 d1 85 94 41 ca c0 0a 41 fe 41 14 85 92 41 11 41 fc c0 0b 41 5c 85 92 41 57 c0 0c 41 ad 85 92 41 ab c0 0c 41 f5 41 0b 85 90 41 09 41 f4 c0 0d 41 53 85 90 41 52 c0 0e 41 a5 85 90 41 a4 c0 0e 41 f0 41 08 85 8e 41 08
<6>[ 1027.558988]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 f0 c0 0f 41 55 85 8e 41 54 c0 10 41 b2 85 8e 41 b0 c0 10 41 fa 41 15 85 8c 41 12 41 f9 c0 11 41 6c 85 8c 41 67 c0 12 41 cb 85 8c 41 c4 c0 13 41 37 85 8a 41 2c c0 14 41 a1 85 8a 41 9a c0 14 41 f9 41 19 85 88 41 14 41 f6 c0 15 41 83 85 88 41 74 c0 16 41 e6 41 06 85 86 41 04 41 e1 c0 17
<6>[ 1027.559295]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 67 85 86 41 5c c0 18 41 de 41 04 85 84 41 02 41 d8 c0 19 41 5f 85 84 41 59 c0 1a 41 d8 41 02 85 82 41 02 41 d5 c0 1b 41 56 85 82 41 55 c0 1c 41 d7 41 04 85 80 41 04 41 d7 c0 1d 41 67 85 80 41 65 c0 1e 41 e6 41 0a 85 7e 41 0a 41 e5 c0 1f 41 7c 85 7e 41 7a c0 20 41 f1 41 15 85 7c 41 14
<6>[ 1027.559607]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 f0 c0 21 41 a2 85 7c 41 9f c0 23 41 46 85 7a 41 43 41 fe c0 23 41 dd 41 0b 85 78 41 09 41 dc c0 25 41 8b 85 78 41 87 c0 26 41 fc 41 32 85 76 41 2f 41 fb c0 27 41 d0 41 06 85 74 41 06 41 cd c0 29 41 8d 85 74 41 8b c0 2a 41 fe 41 43 85 72 41 44 41 fe c0 2b 41 e6 41 13 85 70 41 15 41 e6
<6>[ 1027.559919]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c c0 2d 41 ae 85 6f 41 01 41 b2 c0 2f 41 6b 85 6e 41 6f c0 30 41 f9 41 40 85 6c 41 42 41 fb c0 31 41 ea 41 23 85 6a 41 24 41 ec c0 33 41 d2 41 0f 85 68 41 0f 41 d4 c0 35 41 b1 41 03 85 66 41 03 41 b2 c0 37 41 89 85 66 41 89 c0 39 41 78 85 64 41 78 c0 3b 41 69 85 62 41 69 41 fe c0 3b 41 fc
<6>[ 1027.560334]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 5a 85 60 41 5a 41 fc c0 3d 41 f9 41 4c 85 5e 41 4d 41 f9 c0 3f 41 f5 41 48 85 5c 41 49 41 f5 c0 41 41 f9 41 50 85 5a 41 51 41 f9 c0 43 41 fb 41 5d 85 58 41 5c 41 fc c0 45 41 fe 41 73 85 56 41 68 41 fd c0 48 41 8d 41 01 85 53 41 76 41 fe c0 4a 41 9d 41 05 85 50 41 06 41 9a c0 4d 41 be
<6>[ 1027.560651]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 14 85 4e 41 16 41 c2 c0 4f 41 df 41 2f 85 4c 41 2f 41 e0 c0 51 41 f4 41 57 85 4a 41 53 41 f3 c0 54 41 9b 41 0b 85 46 41 09 41 95 41 fe c0 56 41 d8 41 32 85 44 41 2e 41 d4 c0 59 41 f9 41 74 41 02 85 40 41 01 41 6e 41 f7 c0 5c 41 bb 41 1f 85 3e 41 1b 41 b6 c0 5f 41 f3 41 6e 41 02 85 3a
<6>[ 1027.560961]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 02 41 6c 41 f1 c0 62 41 c7 41 2c 85 38 41 2e 41 c8 c0 65 41 f9 41 81 41 07 85 34 41 0a 41 89 41 fb c0 68 41 db 41 56 41 01 85 31 41 55 41 e1 c0 6c 41 c8 41 40 85 2e 41 31 41 bf c0 70 41 b5 41 2b 85 2a 41 24 41 a7 41 fd c0 72 41 fd 41 a5 41 2d 85 26 41 1a 41 98 41 fb c0 76 41 fe 41 b0
<6>[ 1027.561272]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 37 85 22 41 22 41 97 41 f7 c0 7b 41 bb 41 41 85 1e 41 38 41 a7 41 fb c0 7f 41 c7 41 52 41 03 85 18 41 09 41 62 41 cc c0 84 41 e1 41 7f 41 22 85 14 41 24 41 8c 41 ed c0 88 41 fd 41 b9 41 59 41 0a 85 0e 41 09 41 52 41 b7 41 fd c0 8d 41 f3 41 a3 41 4b 41 07 85 08 41 05 41 4a 41 a2 41 f1
<6>[ 1027.561582]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c c0 93 41 f0 41 a3 41 52 41 0c 85 02 41 06 41 44 41 99 41 ec c0 99 41 f7 41 b8 41 6a 41 1f 84 fc 41 1b 41 64 41 ae 41 f3 c0 a0 41 d1 41 87 41 48 41 0d 84 f4 41 0e 41 48 41 86 41 ce 41 fe c0 a6 41 fc 41 ce 41 91 41 54 41 18 84 ec 41 1b 41 59 41 93 41 d0 41 fc c0 af 41 dd 41 a6 41 6e 41 3c
<6>[ 1027.561893]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 11 84 e2 41 10 41 3c 41 70 41 a6 41 e1 c0 b9 41 e3 41 b9 41 8b 41 61 41 35 41 10 84 d6 41 10 41 35 41 61 41 8b 41 b8 41 e3 c0 c4 41 ea 41 c5 41 a5 41 87 41 6b 41 4d 41 30 41 14 84 c6 41 14 41 30 41 4d 41 6b 41 87 41 a4 41 c5 41 e9 c0 d2 41 f6 41 d8 41 bc 41 a4 41 91 41 7d 41 69 41 54
<6>[ 1027.562208]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 3f 41 2c 41 18 41 04 84 ae 41 04 41 18 41 2b 41 3f 41 53 41 69 41 7d 41 90 41 a4 41 bb 41 d8 41 f6 c0 e6 41 f3 41 e5 41 d7 41 ca 41 bb 41 b5 41 aa 41 a3 41 99 41 92 41 88 41 80 41 77 41 6f 41 66 41 5c 41 55 41 4a 41 44 41 42 42 33 41 2a 42 22 41 13 41 11 41 0c 84 76 41 0c 41 11 41 13
<6>[ 1027.562519]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 42 22 41 2a 42 33 41 42 41 44 41 4a 41 55 41 5c 41 66 41 6e 41 77 41 7f 41 88 41 91 41 99 41 a3 41 aa 41 b5 41 bb 41 ca 41 d7 41 e5 41 f3 c1 10 41 f3 41 ee 41 ed 42 dd 41 d5 42 cc 41 bd 41 bb 41 b6 42 aa 41 a5 43 99 41 8b 42 88 41 82 43 77 41 68 42 66 41 5f 43 55 41 45 42 44 41 3c 43 33
<6>[ 1027.562828]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 2f 45 22 41 21 46 11 41 02 84 0a 41 01 46 11 41 1f 45 22 41 2d 43 33 41 3a 43 44 43 55 41 5e 42 66 41 67 43 77 41 81 42 88 41 8a 43 99 41 a4 42 aa 41 b6 41 bb 41 bd 42 cc 41 d5 42 dd 41 ec 41 ee 41 f3 c1 67 41 f3 45 ee 41 e5 45 dd 41 d7 45 cc 41 c9 46 bb 46 aa 41 9c 45 99 41 8f 45 88
<6>[ 1027.563138]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (97) 29 01 00 08 00 61 5c 41 81 45 77 41 73 45 66 41 65 46 55 41 46 45 44 41 38 45 33 41 2a 61 22 41 15 68 11 41 0c 82 d4 41 0c 68 11 41 15 61 22 41 2a 45 33 41 38 45 44 41 46 46 55 41 64 45 66 41 72 45 77 41 80 45 88 41 8e 45 99 41 9c 46 aa 46 bb 41 c8 45 cc 41 d6 45 dd 41 e4 45 ee 41 f2 c0 d0 00 00 00 00 00 00
<6>[ 1027.563413]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(158): TX_SELF_MASK_IMAGE not parsed from DTSI --
<6>[ 1027.563485]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(32): samsung,level1_key_disable_tx_cmds_revA ++
<6>[ 1027.563563]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 a5 a5
<6>[ 1027.563705]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(32): samsung,level1_key_disable_tx_cmds_revA --
<3>[ 1027.563772]  [2:crtc_commit:117:  443] [SDE] self_mask_img_write : --
<3>[ 1027.563821]  [2:crtc_commit:117:  443] [SDE] self_mask_on : ++ (1)
<6>[ 1027.563866]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(156): samsung,self_mask_on ++
<6>[ 1027.563935]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.564023]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (16) 29 00 00 00 00 10 7a 01 00 00 00 95 0a fa 0b 8f 09 0f 00 00 00 00
<6>[ 1027.564124]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 a5 a5
<6>[ 1027.564264]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(156): samsung,self_mask_on --
<3>[ 1027.564324]  [2:crtc_commit:117:  443] [SDE] self_mask_on : --
<6>[ 1027.564374]  [2:crtc_commit:117:  443] [SDE] set_normal_br_values : pac_cd_idx (0) cd_idx (0) cd (2) interpolation_cd (2)
<6>[ 1027.564451]  [2:crtc_commit:117:  443] [SDE] ss_acl_on : gradual_acl: 1, acl per: 0x4a
<6>[ 1027.564516]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(27): samsung,brightness_tx_cmds_revA ++
<6>[ 1027.564589]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.564671]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.564753]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 b1 0b 76
<6>[ 1027.564834]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.564914]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.564994]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.565075]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.565162]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (17) 29 00 00 00 00 11 b4 00 55 40 ff 26 4a 63 55 55 55 3f b7 12 00 00 20
<6>[ 1027.565262]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 00 00 02 55 02
<6>[ 1027.565342]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.565423]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.565503]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.565584]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.565671]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (24) 29 00 00 00 00 18 b5 14 cc 12 01 34 67 9a cd 01 22 33 44 00 00 05 55 cc 0c 01 11 11 10 13
<6>[ 1027.565780]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.565861]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.565941]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.566021]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.566102]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f4 eb 23
<6>[ 1027.566183]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 a5 a5
<6>[ 1027.566330]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.566413]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.566495]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.566586]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (36) 29 00 00 00 00 24 b8 15 12 00 00 13 00 00 00 00 00 00 00 00 00 00 00 00 00 25 69 ca 8c 06 45 3c 6f 00 00 00 00 00 00 00 00 00
<6>[ 1027.566713]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.566793]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.566875]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.566956]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.567048]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (35) 29 00 00 00 00 23 ca 00 8c a0 8f 8e 8d 8d 8c 8b 89 8b 8f 8a 8c 97 8b 8a 96 8b 8e a0 93 a3 b7 a8 a2 9b a6 42 49 42 00 00 00
<6>[ 1027.567172]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 01 00 08 00 02 f7 03
<6>[ 1027.567335]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (60) 29 00 00 00 00 3c 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
<6>[ 1027.567496]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.567578]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 fc a5 a5
<6>[ 1027.567716]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(27): samsung,brightness_tx_cmds_revA --
<6>[ 1027.567784]  [2:crtc_commit:117:  443] [SDE] ss_brightness_dcs : level : 0  candela : 2CD hbm : 0 (0)
<3>[ 1027.567854]  [2:crtc_commit:117:  443] [SDE_mdnie] hbm : 0 mdnie_bypass : 0 mdnie_accessibility : 0  mdnie_app: 0 mdnie_mode : 4 hdr : 0 night_mode_enable : 0
<6>[ 1027.567942]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(60): samsung,mdnie_tx_cmds_revA ++
<6>[ 1027.568012]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 39 00 00 00 00 03 f0 5a 5a
<6>[ 1027.568110]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (56) 39 01 00 08 00 38 df 01 6a 9a 25 1a 16 2a 00 37 5a 00 4e c5 00 5d 17 00 30 c3 ff 00 00 ff ff 00 ff 00 ff ff ff ff 00 ff ff 00 ff 00 ff 00 00 ff ff 00 ff 00 ff 00 00 ff ff 00 ff 00 ff 00
<6>[ 1027.568388]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (188) 39 01 00 08 00 bc de 00 40 04 00 00 00 00 00 00 00 04 00 00 00 00 00 00 00 04 00 00 00 30 01 00 70 01 34 01 40 66 03 01 55 00 08 08 10 20 40 60 00 40 00 50 00 60 00 70 00 80 00 80 00 80 00 00 20 40 60 01 40 01 80 01 80 01 80 02 00 00 00 00 00 00 00 00 40 03 b6 23 24 00 72 01 00 0d 00 04 07 40 00 6e 82 e6 ff 00 ff 00 00 02 00 02 00 14 00 01 00 01 00 10 00 00 28 3c 04 0f 01 00 00 08 10 18 20 28 30 38 40 48 50 58 60 68 70 78 80 88 90 98 a0 a8 b0 b8 c0 c8 d0 d8 e0 e8 f0 f8 01 00 00 08 10 18 20 28 30 38 40 48 50 58 60 68 70 78 80 88 90 98 a0 a8 b0 b8 c0 c8 d0 d8 e0 e8 f0 f8 01 00
<6>[ 1027.568801]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (20) 39 00 00 00 00 14 dd 01 00 07 f0 7f 7f 00 00 00 00 00 00 00 00 00 00 00 04 01
<6>[ 1027.568920]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (45) 39 00 00 00 00 2d e2 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 40 00 80 01 00 80 80 80 80 80 80 80 80 80 80 80 80
<6>[ 1027.569059]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 39 01 00 08 00 03 f0 a5 a5
<6>[ 1027.569199]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(60): samsung,mdnie_tx_cmds_revA --
<6>[ 1027.569276]  [2:crtc_commit:117:  443] [SDE] esd_irq_enable : clear esd irq pending status
<6>[ 1027.569365]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(80): samsung,copr_enable_tx_cmds_revA ++
<6>[ 1027.569439]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.569528]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (20) 29 00 00 00 00 14 e1 07 15 15 00 00 00 00 00 00 8c a0 00 00 00 00 00 00 00 00
<6>[ 1027.569633]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 a5 a5
<6>[ 1027.569772]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(80): samsung,copr_enable_tx_cmds_revA --
<6>[ 1027.569836]  [2:crtc_commit:117:  443] [SDE] ss_panel_on_post : -
<3>[ 1027.569881]  [2:crtc_commit:117:  443] msm-dsi-panel:[dsi_panel_enable:4081] --
<6>[ 1027.569934]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(29): samsung,level0_key_enable_tx_cmds_revA ++
<6>[ 1027.570010]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 9f a5 a5
<6>[ 1027.570174]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(29): samsung,level0_key_enable_tx_cmds_revA --
<6>[ 1027.570293]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (128) 0a 01 00 0a 00 80 11 00 00 89 30 80 0b 90 05 a0 00 28 02 d0 02 d0 02 00 02 68 00 20 04 6c 00 0a 00 0c 02 77 01 e9 18 00 10 f0 03 0c 20 00 06 0b 0b 33 0e 1c 2a 38 46 54 62 69 70 77 79 7b 7d 7e 01 02 01 00 09 40 09 be 19 fc 19 fa 19 f8 1a 38 1a 78 1a b6 2a f6 2b 34 2b 74 3b 74 6b f4 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
<6>[ 1027.580830]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(30): samsung,level0_key_disable_tx_cmds_revA ++
<6>[ 1027.580910]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 9f 5a 5a
<6>[ 1027.581046]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(30): samsung,level0_key_disable_tx_cmds_revA --
<3>[ 1027.581118]  [2:crtc_commit:117:  443] msm-dsi-display:[dsi_display_enable] --
<6>[ 1027.581817]  [3:       recovery:  607] [SDE] set_normal_br_values : pac_cd_idx (406) cd_idx (57) cd (223) interpolation_cd (222)
<6>[ 1027.581895]  [3:       recovery:  607] [SDE] ss_acl_on : gradual_acl: 1, acl per: 0x4a
<6>[ 1027.581956]  [3:       recovery:  607] [SDE] ss_send_cmd : Send cmd(27): samsung,brightness_tx_cmds_revA ++
<6>[ 1027.582026]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.582103]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.582179]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 b1 02 ce
<6>[ 1027.582256]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.582331]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.582407]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.582482]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.582562]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (17) 29 00 00 00 00 11 b4 00 55 40 ff 26 4a 63 55 55 55 3f b7 12 00 00 20
<6>[ 1027.582657]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 00 00 00 00 02 55 02
<6>[ 1027.582730]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.582805]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.582880]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.582954]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.583037]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (24) 29 00 00 00 00 18 b5 14 dc 1e 01 34 67 9a cd 01 22 33 44 00 00 05 55 cc 0c 01 11 11 10 13
<6>[ 1027.583141]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.583216]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.583292]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.583367]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.583443]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f4 eb 23
<6>[ 1027.583517]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 f0 a5 a5
<6>[ 1027.583676]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.583754]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.583830]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.583917]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (36) 29 00 00 00 00 24 b8 15 12 00 00 13 00 00 00 00 00 00 00 00 00 00 00 00 00 25 69 ca 8c 06 45 3c 6f 28 28 28 0e 0e 0e 0d 0d 0d
<6>[ 1027.584039]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.584114]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc a5 a5
<6>[ 1027.584189]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 5a 5a
<6>[ 1027.584262]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 fc 5a 5a
<6>[ 1027.584347]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (35) 29 00 00 00 00 23 ca 00 df e3 e0 85 84 83 85 83 84 81 82 82 81 81 81 80 80 80 81 81 80 85 86 83 91 85 88 7a 7c 7a 00 00 00
<6>[ 1027.584464]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 29 01 00 08 00 02 f7 03
<6>[ 1027.584629]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (60) 29 00 00 00 00 3c 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
<6>[ 1027.584784]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 f0 a5 a5
<6>[ 1027.584860]  [3:       recovery:  607] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 fc a5 a5
<6>[ 1027.585004]  [3:       recovery:  607] [SDE] ss_send_cmd : Send cmd(27): samsung,brightness_tx_cmds_revA --
<6>[ 1027.585070]  [3:       recovery:  607] [SDE] ss_brightness_dcs : level : 15000  candela : 223CD hbm : 0 (0)
<3>[ 1027.585135]  [3:       recovery:  607] msm-dsi-display:[dsi_display_set_backlight] unable to set backlight
<3>[ 1027.680169]  [3:   msm_watchdog:   75] [pet_watchdog] last_count : 4cc9b, new_count : 4cc9b, bark_time : 57fdf, bite_time : 6ffd6
<6>[ 1027.725289]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(25): samsung,display_on_tx_cmds_revA ++
<6>[ 1027.725371]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 00 00 00 00 03 9f a5 a5
<6>[ 1027.725454]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (02) 05 00 00 00 00 02 29 00
<6>[ 1027.725530]  [2:crtc_commit:117:  443] dsi-ctrl:[print_cmd_desc] [SDE] print_cmd_desc : (03) 29 01 00 08 00 03 9f 5a 5a
<6>[ 1027.725672]  [2:crtc_commit:117:  443] [SDE] ss_send_cmd : Send cmd(25): samsung,display_on_tx_cmds_revA --
*/

#define S6E3HA2_MIN_BRIGHTNESS		0
#define S6E3HA2_MAX_BRIGHTNESS		100
#define S6E3HA2_DEFAULT_BRIGHTNESS	80

#define S6E3HA2_NUM_GAMMA_STEPS		46
#define S6E3HA2_GAMMA_CMD_CNT		35
#define S6E3HA2_VINT_STATUS_MAX		10

static const u8 gamma_tbl_ha2[S6E3HA2_NUM_GAMMA_STEPS][S6E3HA2_GAMMA_CMD_CNT] = {
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x82, 0x83,
	  0x85, 0x88, 0x8b, 0x8b, 0x84, 0x88, 0x82, 0x82, 0x89, 0x86, 0x8c,
	  0x94, 0x84, 0xb1, 0xaf, 0x8e, 0xcf, 0xad, 0xc9, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x84, 0x84,
	  0x85, 0x87, 0x8b, 0x8a, 0x84, 0x88, 0x82, 0x82, 0x89, 0x86, 0x8a,
	  0x93, 0x84, 0xb0, 0xae, 0x8e, 0xc9, 0xa8, 0xc5, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x8a, 0x8a, 0x84, 0x88, 0x81, 0x84, 0x8a, 0x88, 0x8a,
	  0x91, 0x84, 0xb1, 0xae, 0x8b, 0xd5, 0xb2, 0xcc, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x8a, 0x8a, 0x84, 0x87, 0x81, 0x84, 0x8a, 0x87, 0x8a,
	  0x91, 0x85, 0xae, 0xac, 0x8a, 0xc3, 0xa3, 0xc0, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x85, 0x85,
	  0x86, 0x85, 0x88, 0x89, 0x84, 0x89, 0x82, 0x84, 0x87, 0x85, 0x8b,
	  0x91, 0x88, 0xad, 0xab, 0x8a, 0xb7, 0x9b, 0xb6, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x89, 0x8a, 0x84, 0x89, 0x83, 0x83, 0x86, 0x84, 0x8b,
	  0x90, 0x84, 0xb0, 0xae, 0x8b, 0xce, 0xad, 0xc8, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x87, 0x89, 0x8a, 0x83, 0x87, 0x82, 0x85, 0x88, 0x87, 0x89,
	  0x8f, 0x84, 0xac, 0xaa, 0x89, 0xb1, 0x98, 0xaf, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x88, 0x89, 0x84, 0x88, 0x83, 0x82, 0x85, 0x84, 0x8c,
	  0x91, 0x86, 0xac, 0xaa, 0x89, 0xc2, 0xa5, 0xbd, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x85, 0x87, 0x89, 0x8a, 0x83, 0x87, 0x82, 0x85, 0x88, 0x87, 0x88,
	  0x8b, 0x82, 0xad, 0xaa, 0x8a, 0xc2, 0xa5, 0xbd, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x89, 0x87, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x87, 0x89, 0x84, 0x88, 0x83, 0x82, 0x85, 0x84, 0x8a,
	  0x8e, 0x84, 0xae, 0xac, 0x89, 0xda, 0xb7, 0xd0, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x85, 0x86, 0x87, 0x89, 0x84, 0x88, 0x83, 0x80, 0x83, 0x82, 0x8b,
	  0x8e, 0x85, 0xac, 0xaa, 0x89, 0xc8, 0xaa, 0xc1, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x85, 0x86, 0x87, 0x89, 0x81, 0x85, 0x81, 0x84, 0x86, 0x84, 0x8c,
	  0x8c, 0x84, 0xa9, 0xa8, 0x87, 0xa3, 0x92, 0xa1, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x85, 0x86, 0x87, 0x89, 0x84, 0x86, 0x83, 0x80, 0x83, 0x81, 0x8c,
	  0x8d, 0x84, 0xaa, 0xaa, 0x89, 0xce, 0xaf, 0xc5, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x85, 0x86, 0x87, 0x89, 0x81, 0x83, 0x80, 0x83, 0x85, 0x85, 0x8c,
	  0x8c, 0x84, 0xa8, 0xa8, 0x88, 0xb5, 0x9f, 0xb0, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x86, 0x86, 0x87, 0x88, 0x81, 0x83, 0x80, 0x83, 0x85, 0x85, 0x8c,
	  0x8b, 0x84, 0xab, 0xa8, 0x86, 0xd4, 0xb4, 0xc9, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x86, 0x86, 0x87, 0x88, 0x81, 0x83, 0x80, 0x84, 0x84, 0x85, 0x8b,
	  0x8a, 0x83, 0xa6, 0xa5, 0x84, 0xbb, 0xa4, 0xb3, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x84, 0x84,
	  0x86, 0x85, 0x86, 0x86, 0x82, 0x85, 0x81, 0x82, 0x83, 0x84, 0x8e,
	  0x8b, 0x83, 0xa4, 0xa3, 0x8a, 0xa1, 0x93, 0x9d, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x87, 0x87, 0x82, 0x85, 0x81, 0x82, 0x82, 0x84, 0x8e,
	  0x8b, 0x83, 0xa4, 0xa2, 0x86, 0xc1, 0xa9, 0xb7, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x87, 0x87, 0x82, 0x85, 0x81, 0x82, 0x82, 0x84, 0x8d,
	  0x89, 0x82, 0xa2, 0xa1, 0x84, 0xa7, 0x98, 0xa1, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xb8, 0x00, 0xc3, 0x00, 0xb1, 0x88, 0x86, 0x87, 0x83, 0x83,
	  0x85, 0x86, 0x87, 0x87, 0x82, 0x85, 0x81, 0x83, 0x83, 0x85, 0x8c,
	  0x87, 0x7f, 0xa2, 0x9d, 0x88, 0x8d, 0x88, 0x8b, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xbb, 0x00, 0xc5, 0x00, 0xb4, 0x87, 0x86, 0x86, 0x84, 0x83,
	  0x86, 0x87, 0x87, 0x87, 0x80, 0x82, 0x7f, 0x86, 0x86, 0x88, 0x8a,
	  0x84, 0x7e, 0x9d, 0x9c, 0x82, 0x8d, 0x88, 0x8b, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xbd, 0x00, 0xc7, 0x00, 0xb7, 0x87, 0x85, 0x85, 0x84, 0x83,
	  0x86, 0x86, 0x86, 0x88, 0x81, 0x83, 0x80, 0x83, 0x84, 0x85, 0x8a,
	  0x85, 0x7e, 0x9c, 0x9b, 0x85, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xc0, 0x00, 0xca, 0x00, 0xbb, 0x87, 0x86, 0x85, 0x83, 0x83,
	  0x85, 0x86, 0x86, 0x88, 0x81, 0x83, 0x80, 0x84, 0x85, 0x86, 0x89,
	  0x83, 0x7d, 0x9c, 0x99, 0x87, 0x7b, 0x7b, 0x7c, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xc4, 0x00, 0xcd, 0x00, 0xbe, 0x87, 0x86, 0x85, 0x83, 0x83,
	  0x86, 0x85, 0x85, 0x87, 0x81, 0x82, 0x80, 0x82, 0x82, 0x83, 0x8a,
	  0x85, 0x7f, 0x9f, 0x9b, 0x86, 0xb4, 0xa1, 0xac, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xc7, 0x00, 0xd0, 0x00, 0xc2, 0x87, 0x85, 0x85, 0x83, 0x82,
	  0x85, 0x85, 0x85, 0x86, 0x82, 0x83, 0x80, 0x82, 0x82, 0x84, 0x87,
	  0x86, 0x80, 0x9e, 0x9a, 0x87, 0xa7, 0x98, 0xa1, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xca, 0x00, 0xd2, 0x00, 0xc5, 0x87, 0x85, 0x84, 0x82, 0x82,
	  0x84, 0x85, 0x85, 0x86, 0x81, 0x82, 0x7f, 0x82, 0x82, 0x84, 0x88,
	  0x86, 0x81, 0x9d, 0x98, 0x86, 0x8d, 0x88, 0x8b, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xce, 0x00, 0xd6, 0x00, 0xca, 0x86, 0x85, 0x84, 0x83, 0x83,
	  0x85, 0x84, 0x84, 0x85, 0x81, 0x82, 0x80, 0x81, 0x81, 0x82, 0x89,
	  0x86, 0x81, 0x9c, 0x97, 0x86, 0xa7, 0x98, 0xa1, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xd1, 0x00, 0xd9, 0x00, 0xce, 0x86, 0x84, 0x83, 0x83, 0x82,
	  0x85, 0x85, 0x85, 0x86, 0x81, 0x83, 0x81, 0x82, 0x82, 0x83, 0x86,
	  0x83, 0x7f, 0x99, 0x95, 0x86, 0xbb, 0xa4, 0xb3, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xd4, 0x00, 0xdb, 0x00, 0xd1, 0x86, 0x85, 0x83, 0x83, 0x82,
	  0x85, 0x84, 0x84, 0x85, 0x80, 0x83, 0x82, 0x80, 0x80, 0x81, 0x87,
	  0x84, 0x81, 0x98, 0x93, 0x85, 0xae, 0x9c, 0xa8, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xd8, 0x00, 0xde, 0x00, 0xd6, 0x86, 0x84, 0x83, 0x81, 0x81,
	  0x83, 0x85, 0x85, 0x85, 0x82, 0x83, 0x81, 0x81, 0x81, 0x83, 0x86,
	  0x84, 0x80, 0x98, 0x91, 0x85, 0x7b, 0x7b, 0x7c, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xdc, 0x00, 0xe2, 0x00, 0xda, 0x85, 0x84, 0x83, 0x82, 0x82,
	  0x84, 0x84, 0x84, 0x85, 0x81, 0x82, 0x82, 0x80, 0x80, 0x81, 0x83,
	  0x82, 0x7f, 0x99, 0x93, 0x86, 0x94, 0x8b, 0x92, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xdf, 0x00, 0xe5, 0x00, 0xde, 0x85, 0x84, 0x82, 0x82, 0x82,
	  0x84, 0x83, 0x83, 0x84, 0x81, 0x81, 0x80, 0x83, 0x82, 0x84, 0x82,
	  0x81, 0x7f, 0x99, 0x92, 0x86, 0x7b, 0x7b, 0x7c, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x83, 0x83, 0x84, 0x80, 0x81, 0x80, 0x83, 0x83, 0x84, 0x80,
	  0x81, 0x7c, 0x99, 0x92, 0x87, 0xa1, 0x93, 0x9d, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x85, 0x84, 0x83, 0x81, 0x81,
	  0x82, 0x82, 0x82, 0x83, 0x80, 0x81, 0x80, 0x81, 0x80, 0x82, 0x83,
	  0x82, 0x80, 0x91, 0x8d, 0x83, 0x9a, 0x90, 0x96, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x83, 0x83, 0x84, 0x80, 0x81, 0x80, 0x81, 0x80, 0x82, 0x83,
	  0x81, 0x7f, 0x91, 0x8c, 0x82, 0x8d, 0x88, 0x8b, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x83, 0x83, 0x83, 0x82, 0x82, 0x81, 0x81, 0x80, 0x82, 0x82,
	  0x82, 0x7f, 0x94, 0x89, 0x84, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x83, 0x83, 0x83, 0x82, 0x82, 0x81, 0x81, 0x80, 0x82, 0x83,
	  0x82, 0x7f, 0x91, 0x85, 0x81, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x83, 0x83, 0x83, 0x80, 0x80, 0x7f, 0x83, 0x82, 0x84, 0x83,
	  0x82, 0x7f, 0x90, 0x84, 0x81, 0x9a, 0x90, 0x96, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe4, 0x00, 0xe9, 0x00, 0xe3, 0x84, 0x83, 0x82, 0x80, 0x80,
	  0x82, 0x83, 0x83, 0x83, 0x80, 0x80, 0x7f, 0x80, 0x80, 0x81, 0x81,
	  0x82, 0x83, 0x7e, 0x80, 0x7c, 0xa4, 0x97, 0x9f, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xe9, 0x00, 0xec, 0x00, 0xe8, 0x84, 0x83, 0x82, 0x81, 0x81,
	  0x82, 0x82, 0x82, 0x83, 0x7f, 0x7f, 0x7f, 0x81, 0x80, 0x82, 0x83,
	  0x83, 0x84, 0x79, 0x7c, 0x79, 0xb1, 0xa0, 0xaa, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xed, 0x00, 0xf0, 0x00, 0xec, 0x83, 0x83, 0x82, 0x80, 0x80,
	  0x81, 0x82, 0x82, 0x82, 0x7f, 0x7f, 0x7e, 0x81, 0x81, 0x82, 0x80,
	  0x81, 0x81, 0x84, 0x84, 0x83, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xf1, 0x00, 0xf4, 0x00, 0xf1, 0x83, 0x82, 0x82, 0x80, 0x80,
	  0x81, 0x82, 0x82, 0x82, 0x80, 0x80, 0x80, 0x80, 0x80, 0x81, 0x7d,
	  0x7e, 0x7f, 0x84, 0x84, 0x83, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xf6, 0x00, 0xf7, 0x00, 0xf5, 0x82, 0x82, 0x81, 0x80, 0x80,
	  0x80, 0x82, 0x82, 0x82, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x82,
	  0x82, 0x82, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x00, 0xfa, 0x00, 0xfb, 0x00, 0xfa, 0x81, 0x81, 0x81, 0x80, 0x80,
	  0x80, 0x82, 0x82, 0x82, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80,
	  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 },
	{ 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80,
	  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
	  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00,
	  0x00, 0x00 }
};

static const unsigned char vint_table_ha2[S6E3HA2_VINT_STATUS_MAX] = {
	0x18, 0x19, 0x1a, 0x1b, 0x1c,
	0x1d, 0x1e, 0x1f, 0x20, 0x21
};


static const u8 gamma_tbl[S6E3HA8_NUM_GAMMA_STEPS][S6E3HA8_GAMMA_CMD_CNT] = {
{ 0x07, 0x01, 0x00, 0x01, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, },
{ 0x07, 0x02, 0x01, 0x02, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x00, 0x00, 0x00, },
{ 0x07, 0x03, 0x02, 0x03, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x00, 0x00, 0x00, },
{ 0x07, 0x04, 0x03, 0x04, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7d, 0x00, 0x00, 0x00, },
{ 0x07, 0x05, 0x04, 0x05, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7c, 0x7c, 0x7c, 0x00, 0x00, 0x00, },
{ 0x07, 0x06, 0x05, 0x06, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7b, 0x7b, 0x7b, 0x00, 0x00, 0x00, },
{ 0x07, 0x07, 0x06, 0x07, 0x80, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x7f, 0x80, 0x7a, 0x7a, 0x7a, 0x00, 0x00, 0x00, },
{ 0x07, 0x08, 0x07, 0x08, 0x80, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x80, 0x7f, 0x80, 0x79, 0x79, 0x79, 0x00, 0x00, 0x00, },
{ 0x07, 0x09, 0x08, 0x09, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x7f, 0x80, 0x79, 0x79, 0x79, 0x00, 0x00, 0x00, },
{ 0x07, 0x0a, 0x08, 0x0a, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x7f, 0x80, 0x78, 0x78, 0x78, 0x00, 0x00, 0x00, },
{ 0x07, 0x0b, 0x09, 0x0b, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7d, 0x7e, 0x7d, 0x7f, 0x7f, 0x7f, 0x77, 0x77, 0x77, 0x00, 0x00, 0x00, },
{ 0x07, 0x0c, 0x0a, 0x0c, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x76, 0x76, 0x76, 0x00, 0x00, 0x00, },
{ 0x07, 0x0d, 0x0b, 0x0d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x75, 0x75, 0x75, 0x00, 0x00, 0x00, },
{ 0x07, 0x0e, 0x0c, 0x0e, 0x7f, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7d, 0x7f, 0x7e, 0x7f, 0x74, 0x74, 0x74, 0x00, 0x00, 0x00, },
{ 0x07, 0x0f, 0x0d, 0x0f, 0x7f, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7c, 0x7c, 0x7c, 0x7f, 0x7e, 0x7f, 0x73, 0x73, 0x73, 0x00, 0x00, 0x00, },
{ 0x07, 0x10, 0x0e, 0x10, 0x7f, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7c, 0x7c, 0x7c, 0x7f, 0x7e, 0x7f, 0x72, 0x72, 0x72, 0x00, 0x00, 0x00, },
{ 0x07, 0x11, 0x0f, 0x11, 0x7f, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7c, 0x7c, 0x7c, 0x7f, 0x7e, 0x7f, 0x71, 0x71, 0x71, 0x00, 0x00, 0x00, },
{ 0x07, 0x12, 0x10, 0x12, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7b, 0x7c, 0x7b, 0x7e, 0x7e, 0x7f, 0x71, 0x71, 0x71, 0x00, 0x00, 0x00, },
{ 0x07, 0x13, 0x11, 0x13, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7b, 0x7b, 0x7b, 0x7e, 0x7e, 0x7f, 0x70, 0x70, 0x70, 0x00, 0x00, 0x00, },
{ 0x07, 0x14, 0x11, 0x14, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7e, 0x7e, 0x7f, 0x80, 0x80, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x80, 0x7b, 0x7b, 0x7b, 0x7e, 0x7e, 0x7f, 0x6f, 0x6f, 0x6f, 0x00, 0x00, 0x00, },
{ 0x07, 0x15, 0x12, 0x15, 0x7e, 0x7d, 0x7e, 0x7f, 0x7f, 0x7f, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x7b, 0x7b, 0x7b, 0x7e, 0x7d, 0x7e, 0x6e, 0x6e, 0x6e, 0x00, 0x00, 0x00, },
{ 0x07, 0x16, 0x13, 0x16, 0x7e, 0x7d, 0x7e, 0x7f, 0x7f, 0x7f, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x7a, 0x7b, 0x7a, 0x7e, 0x7d, 0x7e, 0x6d, 0x6d, 0x6d, 0x00, 0x00, 0x00, },
{ 0x07, 0x17, 0x14, 0x17, 0x7e, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x7a, 0x7a, 0x7a, 0x7e, 0x7d, 0x7e, 0x6c, 0x6c, 0x6c, 0x00, 0x00, 0x00, },
{ 0x07, 0x18, 0x15, 0x18, 0x7e, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x7a, 0x7a, 0x7a, 0x7e, 0x7d, 0x7e, 0x6b, 0x6b, 0x6b, 0x00, 0x00, 0x00, },
{ 0x07, 0x19, 0x16, 0x19, 0x7e, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x7c, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x79, 0x7a, 0x79, 0x7e, 0x7d, 0x7e, 0x6a, 0x6a, 0x6a, 0x00, 0x00, 0x00, },
{ 0x07, 0x1a, 0x17, 0x1a, 0x7d, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x7c, 0x7d, 0x7d, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x79, 0x7a, 0x79, 0x7d, 0x7d, 0x7e, 0x6a, 0x6a, 0x6a, 0x00, 0x00, 0x00, },
{ 0x07, 0x1b, 0x18, 0x1b, 0x7d, 0x7c, 0x7d, 0x7f, 0x7f, 0x7f, 0x7c, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x79, 0x79, 0x79, 0x7d, 0x7c, 0x7e, 0x69, 0x69, 0x69, 0x00, 0x00, 0x00, },
{ 0x07, 0x1c, 0x19, 0x1c, 0x7d, 0x7c, 0x7d, 0x7f, 0x7f, 0x7f, 0x7c, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x79, 0x79, 0x79, 0x7d, 0x7c, 0x7e, 0x68, 0x68, 0x68, 0x00, 0x00, 0x00, },
{ 0x07, 0x1d, 0x1a, 0x1d, 0x7d, 0x7c, 0x7d, 0x7f, 0x7f, 0x7f, 0x7c, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7f, 0x7f, 0x7f, 0x78, 0x79, 0x78, 0x7d, 0x7c, 0x7e, 0x67, 0x67, 0x67, 0x00, 0x00, 0x00, },
{ 0x07, 0x1e, 0x1b, 0x1f, 0x7d, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7c, 0x7c, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x78, 0x78, 0x78, 0x7d, 0x7c, 0x7d, 0x66, 0x66, 0x66, 0x00, 0x00, 0x00, },
{ 0x07, 0x1f, 0x1b, 0x20, 0x7d, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7c, 0x7c, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x78, 0x78, 0x78, 0x7d, 0x7c, 0x7d, 0x65, 0x65, 0x65, 0x00, 0x00, 0x00, },
{ 0x07, 0x20, 0x1c, 0x21, 0x7d, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7c, 0x7c, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x77, 0x78, 0x77, 0x7d, 0x7c, 0x7d, 0x64, 0x64, 0x64, 0x00, 0x00, 0x00, },
{ 0x07, 0x21, 0x1d, 0x22, 0x7d, 0x7c, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7c, 0x7c, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x77, 0x78, 0x77, 0x7d, 0x7c, 0x7d, 0x63, 0x63, 0x63, 0x00, 0x00, 0x00, },
{ 0x07, 0x22, 0x1e, 0x23, 0x7d, 0x7b, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x77, 0x77, 0x77, 0x7d, 0x7b, 0x7d, 0x62, 0x62, 0x62, 0x00, 0x00, 0x00, },
{ 0x07, 0x23, 0x1f, 0x24, 0x7c, 0x7b, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x77, 0x77, 0x77, 0x7c, 0x7b, 0x7d, 0x62, 0x62, 0x62, 0x00, 0x00, 0x00, },
{ 0x07, 0x24, 0x20, 0x25, 0x7c, 0x7b, 0x7c, 0x7f, 0x7f, 0x7f, 0x7b, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x76, 0x77, 0x76, 0x7c, 0x7b, 0x7d, 0x61, 0x61, 0x61, 0x00, 0x00, 0x00, },
{ 0x07, 0x25, 0x21, 0x26, 0x7c, 0x7b, 0x7c, 0x7f, 0x7f, 0x7f, 0x7a, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x76, 0x77, 0x76, 0x7c, 0x7b, 0x7d, 0x60, 0x60, 0x60, 0x00, 0x00, 0x00, },
{ 0x07, 0x26, 0x22, 0x27, 0x7c, 0x7b, 0x7b, 0x7f, 0x7f, 0x7f, 0x7a, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x76, 0x76, 0x76, 0x7c, 0x7b, 0x7d, 0x5f, 0x5f, 0x5f, 0x00, 0x00, 0x00, },
{ 0x07, 0x27, 0x23, 0x28, 0x7c, 0x7b, 0x7b, 0x7f, 0x7f, 0x7f, 0x7a, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x75, 0x76, 0x75, 0x7c, 0x7b, 0x7d, 0x5e, 0x5e, 0x5e, 0x00, 0x00, 0x00, },
{ 0x07, 0x28, 0x23, 0x29, 0x7c, 0x7b, 0x7b, 0x7f, 0x7f, 0x7f, 0x7a, 0x7b, 0x7b, 0x7e, 0x7f, 0x7f, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7f, 0x75, 0x76, 0x75, 0x7c, 0x7b, 0x7d, 0x5d, 0x5d, 0x5d, 0x00, 0x00, 0x00, },
{ 0x07, 0x29, 0x24, 0x2a, 0x7c, 0x7a, 0x7b, 0x7e, 0x7e, 0x7e, 0x7a, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x75, 0x76, 0x75, 0x7c, 0x7a, 0x7c, 0x5c, 0x5c, 0x5c, 0x00, 0x00, 0x00, },
{ 0x07, 0x2a, 0x25, 0x2b, 0x7c, 0x7a, 0x7b, 0x7e, 0x7e, 0x7e, 0x7a, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x75, 0x75, 0x75, 0x7c, 0x7a, 0x7c, 0x5b, 0x5b, 0x5b, 0x00, 0x00, 0x00, },
{ 0x07, 0x2b, 0x26, 0x2c, 0x7b, 0x7a, 0x7b, 0x7e, 0x7e, 0x7e, 0x79, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x74, 0x75, 0x74, 0x7b, 0x7a, 0x7c, 0x5b, 0x5b, 0x5b, 0x00, 0x00, 0x00, },
{ 0x07, 0x2c, 0x27, 0x2d, 0x7b, 0x7a, 0x7b, 0x7e, 0x7e, 0x7e, 0x79, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7e, 0x7e, 0x7e, 0x74, 0x75, 0x74, 0x7b, 0x7a, 0x7c, 0x5a, 0x5a, 0x5a, 0x00, 0x00, 0x00, },
{ 0x07, 0x2d, 0x28, 0x2e, 0x7b, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x79, 0x7a, 0x7a, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x74, 0x74, 0x74, 0x7b, 0x7a, 0x7c, 0x59, 0x59, 0x59, 0x00, 0x00, 0x00, },
{ 0x07, 0x2e, 0x29, 0x2f, 0x7b, 0x7a, 0x7a, 0x7e, 0x7e, 0x7e, 0x79, 0x7a, 0x7a, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x73, 0x74, 0x73, 0x7b, 0x7a, 0x7c, 0x58, 0x58, 0x58, 0x00, 0x00, 0x00, },
{ 0x07, 0x2f, 0x2a, 0x30, 0x7b, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x79, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x73, 0x74, 0x73, 0x7b, 0x79, 0x7c, 0x57, 0x57, 0x57, 0x00, 0x00, 0x00, },
{ 0x07, 0x30, 0x2b, 0x31, 0x7b, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x79, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x73, 0x74, 0x73, 0x7b, 0x79, 0x7c, 0x56, 0x56, 0x56, 0x00, 0x00, 0x00, },
{ 0x07, 0x31, 0x2c, 0x32, 0x7b, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x78, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x73, 0x73, 0x73, 0x7b, 0x79, 0x7c, 0x55, 0x55, 0x55, 0x00, 0x00, 0x00, },
{ 0x07, 0x32, 0x2c, 0x33, 0x7b, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x78, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x72, 0x73, 0x72, 0x7b, 0x79, 0x7c, 0x54, 0x54, 0x54, 0x00, 0x00, 0x00, },
{ 0x07, 0x33, 0x2d, 0x34, 0x7b, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x78, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x72, 0x73, 0x72, 0x7b, 0x79, 0x7b, 0x53, 0x53, 0x53, 0x00, 0x00, 0x00, },
{ 0x07, 0x34, 0x2e, 0x35, 0x7a, 0x79, 0x7a, 0x7e, 0x7e, 0x7e, 0x78, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x72, 0x73, 0x72, 0x7a, 0x79, 0x7b, 0x53, 0x53, 0x53, 0x00, 0x00, 0x00, },
{ 0x07, 0x35, 0x2f, 0x36, 0x7a, 0x79, 0x79, 0x7e, 0x7e, 0x7e, 0x78, 0x79, 0x79, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x71, 0x72, 0x71, 0x7a, 0x79, 0x7b, 0x52, 0x52, 0x52, 0x00, 0x00, 0x00, },
{ 0x07, 0x36, 0x30, 0x37, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x78, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x71, 0x72, 0x71, 0x7a, 0x78, 0x7b, 0x51, 0x51, 0x51, 0x00, 0x00, 0x00, },
{ 0x07, 0x37, 0x31, 0x38, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x77, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x71, 0x72, 0x71, 0x7a, 0x78, 0x7b, 0x50, 0x50, 0x50, 0x00, 0x00, 0x00, },
{ 0x07, 0x38, 0x32, 0x39, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x77, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x71, 0x72, 0x71, 0x7a, 0x78, 0x7b, 0x4f, 0x4f, 0x4f, 0x00, 0x00, 0x00, },
{ 0x07, 0x39, 0x33, 0x3a, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x77, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x70, 0x71, 0x70, 0x7a, 0x78, 0x7b, 0x4e, 0x4e, 0x4e, 0x00, 0x00, 0x00, },
{ 0x07, 0x3a, 0x34, 0x3b, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x77, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x70, 0x71, 0x70, 0x7a, 0x78, 0x7b, 0x4d, 0x4d, 0x4d, 0x00, 0x00, 0x00, },
{ 0x07, 0x3b, 0x35, 0x3c, 0x7a, 0x78, 0x79, 0x7e, 0x7e, 0x7e, 0x77, 0x78, 0x78, 0x7d, 0x7e, 0x7e, 0x80, 0x80, 0x80, 0x7d, 0x7d, 0x7e, 0x70, 0x71, 0x70, 0x7a, 0x78, 0x7b, 0x4c, 0x4c, 0x4c, 0x00, 0x00, 0x00, },
{ 0x07, 0x3d, 0x36, 0x3e, 0x79, 0x77, 0x78, 0x7d, 0x7d, 0x7d, 0x76, 0x77, 0x77, 0x7c, 0x7d, 0x7d, 0x7f, 0x7f, 0x80, 0x7c, 0x7c, 0x7d, 0x6f, 0x70, 0x6f, 0x79, 0x77, 0x7a, 0x4b, 0x4b, 0x4b, 0x00, 0x00, 0x00, },
};

static const unsigned char vint_table[S6E3HA8_VINT_STATUS_MAX] = {
	0x24, 0x25, 0x26, 0x27, 0x28,
    0x29, 0x2a, 0x2b, 0x2c, 0x2d
};


static inline
struct s6e3ha8 *to_s6e3ha8_amb577px01_wqhd(struct drm_panel *panel)
{
	return container_of(panel, struct s6e3ha8, panel);
}

static int s6e3ha2_dcs_write(struct s6e3ha8 *ctx, const void *data, size_t len)
{
	struct mipi_dsi_device *dsi = ctx->dsi;

	return mipi_dsi_dcs_write_buffer(dsi, data, len);
}

static int s6e3ha2_dcs_dsi_write(struct mipi_dsi_device *dsi, const void *data, size_t len)
{
	return mipi_dsi_dcs_write_buffer(dsi, data, len);
}

#define s6e3ha2_dcs_write_seq_static(ctx, seq...) do {	\
	static const u8 d[] = { seq };			\
	int ret;					\
	ret = s6e3ha2_dcs_write(ctx, d, ARRAY_SIZE(d));	\
	if (ret < 0)					\
		return ret;				\
} while (0)


#define s6e3ha2_call_write_func(ret, func) do {	\
	ret = (func);				\
	if (ret < 0)				\
		return ret;			\
} while (0)

//static int s6e3ha8_test_key_on_f0(struct s6e3ha8 *ctx)
//{
//	s6e3ha2_dcs_write_seq_static(ctx, 0xf0, 0x5a, 0x5a);
//	return 0;
//}


/* ha2 brightneess*/

static int s6e3ha2_test_key_on_f0(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xf0, 0x5a, 0x5a);
	return 0;
}

static int s6e3ha2_test_key_off_f0(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xf0, 0xa5, 0xa5);
	return 0;
}

static int s6e3ha2_test_key_on_fc(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfc, 0x5a, 0x5a);
	return 0;
}

static int s6e3ha2_test_key_on_9f(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0x9f, 0xa5, 0xa5);
	return 0;
}

static int s6e3ha2_test_key_off_9f(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0x9f, 0x5a, 0x5a);
	return 0;
}

static int s6e3ha2_test_key_off_fc(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfc, 0xa5, 0xa5);
	return 0;
}

static int s6e3ha2_single_dsi_set(struct s6e3ha8 *ctx);

static int s6e3ha2_freq_calibration(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfd, 0x1c);
//	if (ctx->desc->type == HF2_TYPE)
//		s6e3ha2_dcs_write_seq_static(ctx, 0xf2, 0x67, 0x40, 0xc5);
	s6e3ha2_dcs_write_seq_static(ctx, 0xfe, 0x20, 0x39);
	s6e3ha2_dcs_write_seq_static(ctx, 0xfe, 0xa0);
	s6e3ha2_dcs_write_seq_static(ctx, 0xfe, 0x20);

//	if (ctx->desc->type == HA2_TYPE)
		s6e3ha2_dcs_write_seq_static(ctx, 0xce, 0x03, 0x3b, 0x12, 0x62,
						  0x40, 0x80, 0xc0, 0x28, 0x28,
						  0x28, 0x28, 0x39, 0xc5);
//	else
//		s6e3ha2_dcs_write_seq_static(ctx, 0xce, 0x03, 0x3b, 0x14, 0x6d,
//						  0x40, 0x80, 0xc0, 0x28, 0x28,
//						  0x28, 0x28, 0x39, 0xc5);

	return 0;
}

static int s6e3ha2_aor_control(struct s6e3ha8 *ctx);

static int s6e3ha2_caps_elvss_set(struct s6e3ha8 *ctx);

static int s6e3ha2_acl_off(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0x55, 0x00);
	return 0;
}

static int s6e3ha2_acl_off_opr(struct s6e3ha8 *ctx);

static int s6e3ha2_test_global(struct s6e3ha8 *ctx);

static int s6e3ha2_test(struct s6e3ha8 *ctx);

static int s6e3ha2_touch_hsync_on1(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xbd, 0x33, 0x11, 0x02,
					0x16, 0x02, 0x16);
	return 0;
}

static int s6e3ha2_pentile_control(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xc0, 0x00, 0x00, 0xd8, 0xd8);
	return 0;
}

static int s6e3ha2_poc_global(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xb0, 0x20);
	return 0;
}

static int s6e3ha2_poc_setting(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfe, 0x08);
	return 0;
}

static int s6e3ha2_pcd_set_off(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xcc, 0x40, 0x51);
	return 0;
}

static int s6e3ha2_err_fg_set(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xed, 0x44);
	return 0;
}

static int s6e3ha2_hbm_off(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0x53, 0x00);
	return 0;
}

static int s6e3ha2_te_start_setting(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xb9, 0x10, 0x09, 0xff, 0x00, 0x09);
	return 0;
}

static int s6e3ha2_gamma_update(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xf7, 0x03);
	ndelay(100); /* need for 100ns delay */
	s6e3ha2_dcs_write_seq_static(ctx, 0xf7, 0x00);
	return 0;
}

static int s6e3ha2_get_brightness(struct backlight_device *bl_dev)
{
	return bl_dev->props.brightness;
}

static int s6e3ha2_set_vint(struct s6e3ha8 *ctx)
{
	struct backlight_device *bl_dev = ctx->panel.backlight;
	unsigned int brightness = bl_dev->props.brightness;
	unsigned char data[] = { 0xf4, 0x8b,
			vint_table_ha2[brightness * (S6E3HA2_VINT_STATUS_MAX - 1) /
			S6E3HA2_MAX_BRIGHTNESS] };

	return s6e3ha2_dcs_write(ctx, data, ARRAY_SIZE(data));
}

static unsigned int s6e3ha2_get_brightness_index_ha2(unsigned int brightness)
{
	return (brightness * (S6E3HA2_NUM_GAMMA_STEPS - 1)) /
		S6E3HA2_MAX_BRIGHTNESS;
}

static int s6e3ha2_update_gamma(struct s6e3ha8 *ctx, unsigned int brightness)
{
	struct backlight_device *bl_dev = ctx->panel.backlight;
	unsigned int index = s6e3ha2_get_brightness_index_ha2(brightness);
	u8 data[S6E3HA2_GAMMA_CMD_CNT + 1] = { 0xca, };
	int ret;

	memcpy(data + 1, gamma_tbl_ha2 + index, S6E3HA2_GAMMA_CMD_CNT);
	s6e3ha2_call_write_func(ret,
				s6e3ha2_dcs_write(ctx, data, ARRAY_SIZE(data)));

	s6e3ha2_call_write_func(ret, s6e3ha2_gamma_update(ctx));
	bl_dev->props.brightness = brightness;

	return 0;
}

static int s6e3ha2_set_brightness(struct backlight_device *bl_dev)
{
//	struct s6e3ha8 *ctx = bl_get_data(bl_dev);
//	unsigned int brightness = bl_dev->props.brightness;
//		struct mipi_dsi_device *dsi = ctx->dsi;
//    	struct device *dev = &dsi->dev;
//	int ret;
//
//	if (brightness < S6E3HA2_MIN_BRIGHTNESS ||
//		brightness > bl_dev->props.max_brightness) {
//		pr_err("Invalid brightness: %u\n", brightness);
//		return -EINVAL;
//	}
//
//	if (bl_dev->props.power > FB_BLANK_NORMAL)
//		return -EPERM;

//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_on_f0(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_update_gamma(ctx, brightness));
//	s6e3ha2_call_write_func(ret, s6e3ha2_aor_control(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_set_vint(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_off_f0(ctx));

	return 0;
}
/* ha2 brightneess*/

static int s6e3ha8_test_key_on_f0(struct mipi_dsi_device *dsi)
{
	static const u8 d[] = { 0xf0, 0x5a, 0x5a };
	return s6e3ha2_dcs_dsi_write(dsi, d, ARRAY_SIZE(d));
}

static int s6e3ha8_test_key_off_f0(struct mipi_dsi_device *dsi)
{
	static const u8 d[] = { 0xf0, 0xa5, 0xa5 };
	return s6e3ha2_dcs_dsi_write(dsi, d, ARRAY_SIZE(d));
	return 0;
}
/* TEST KEY3 Enable*/
static int s6e3ha8_test_key_on_fc(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfc, 0x5a, 0x5a);
	return 0;
}

static int s6e3ha8_test_key_off_fc(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xfc, 0xa5, 0xa5);
	return 0;
}


// no downstream
static int s6e3ha2_single_dsi_set(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xf2, 0x67);
	s6e3ha2_dcs_write_seq_static(ctx, 0xf9, 0x09);
	return 0;
}

static int s6e3ha8_acl_off(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0x55, 0x00);
	return 0;
}

// no downstream code for it
static int s6e3ha2_acl_off_opr(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xb5, 0x40);
	return 0;
}

// ???
static int s6e3ha2_test_global(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xb0, 0x07);
	return 0;
}

// no downstream code for it
static int s6e3ha2_test(struct s6e3ha8 *ctx)
{
	s6e3ha2_dcs_write_seq_static(ctx, 0xb8, 0x19);
	return 0;
}

static int s6e3ha8_set_vint(struct mipi_dsi_device *dsi, struct backlight_device *bl_dev)
{
	unsigned int brightness = bl_dev->props.brightness;
	unsigned char data[] = { 0xf4, 0xeb,
			vint_table[brightness * (S6E3HA8_VINT_STATUS_MAX - 1) /
			S6E3HA8_MAX_BRIGHTNESS] };

	return s6e3ha2_dcs_dsi_write(dsi, data, ARRAY_SIZE(data));
}

static int s6e3ha8_gamma_update(struct mipi_dsi_device *dsi)
{
	static const u8 d[] = { 0xf7, 0x03 };
	s6e3ha2_dcs_dsi_write(dsi, d, ARRAY_SIZE(d));
	ndelay(100); /* need for 100ns delay */
	static const u8 d1[] = { 0xf7, 0x00 };
	s6e3ha2_dcs_dsi_write(dsi, d1, ARRAY_SIZE(d1));
	return 0;
}

static unsigned int s6e3ha2_get_brightness_index(unsigned int brightness)
{
	return (brightness * (S6E3HA8_NUM_GAMMA_STEPS - 1)) /
		S6E3HA8_MAX_BRIGHTNESS;
}

static int s6e3ha8_update_gamma(struct mipi_dsi_device *dsi, struct backlight_device *bl_dev, unsigned int brightness)
{
	unsigned int index = s6e3ha2_get_brightness_index(brightness);
	u8 data[S6E3HA8_GAMMA_CMD_CNT + 1] = { 0xca, };
	int ret;

	memcpy(data + 1, gamma_tbl + index, S6E3HA8_GAMMA_CMD_CNT);

	s6e3ha2_call_write_func(ret,
				s6e3ha2_dcs_dsi_write(dsi, data, ARRAY_SIZE(data)));

	s6e3ha2_call_write_func(ret, s6e3ha8_gamma_update(dsi));
	bl_dev->props.brightness = brightness;

	return 0;
}

static int s6e3ha8_set_brightness(struct backlight_device *bl_dev)
{
//	struct s6e3ha8 *ctx = bl_get_data(bl_dev);
//	struct mipi_dsi_device *dsi = ctx->dsi;
	struct mipi_dsi_device *dsi = bl_get_data(bl_dev);
	struct device *dev = &dsi->dev;
	unsigned int brightness = bl_dev->props.brightness;
	int ret;

	if (brightness < S6E3HA8_MIN_BRIGHTNESS ||
		brightness > bl_dev->props.max_brightness) {
		dev_err(dev, "Invalid brightness: %u\n", brightness);
		return -EINVAL;
	}

	if (bl_dev->props.power > FB_BLANK_NORMAL)
		return -EPERM;

	s6e3ha2_call_write_func(ret, s6e3ha8_test_key_on_f0(dsi));
	s6e3ha2_call_write_func(ret, s6e3ha8_update_gamma(dsi, bl_dev, brightness));
//	s6e3ha2_call_write_func(ret, s6e3ha2_aor_control(ctx)); //todo ???
	s6e3ha2_call_write_func(ret, s6e3ha8_set_vint(dsi, bl_dev));
	s6e3ha2_call_write_func(ret, s6e3ha8_test_key_off_f0(dsi));

	return 0;
}


static int s6e3ha8_power_on(struct s6e3ha8 *ctx)
{
	int ret;

	ret = regulator_bulk_enable(ARRAY_SIZE(ctx->supplies), ctx->supplies);
	if (ret < 0)
		return ret;

	return 0;
}

static int s6e3ha8_power_off(struct s6e3ha8 *ctx)
{
	return regulator_bulk_disable(ARRAY_SIZE(ctx->supplies), ctx->supplies);
}

static void s6e3ha8_amb577px01_wqhd_reset(struct s6e3ha8 *ctx)
{
	gpiod_set_value_cansleep(ctx->reset_gpio, 1);
	usleep_range(5000, 6000);
	gpiod_set_value_cansleep(ctx->reset_gpio, 0);
	usleep_range(5000, 6000);
	gpiod_set_value_cansleep(ctx->reset_gpio, 1);
	usleep_range(5000, 6000);
}

static int s6e3ha2_panel_init(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;
	int ret;

	s6e3ha2_call_write_func(ret, mipi_dsi_dcs_exit_sleep_mode(dsi));
	usleep_range(5000, 6000);

//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_on_f0(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_single_dsi_set(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_on_fc(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_freq_calibration(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_off_fc(ctx));
//	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_off_f0(ctx));

	return 0;
}

static int self_mask_mem_setting(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;


    mipi_dsi_generic_write_seq(dsi, 0x7a, 0x00);
    mipi_dsi_generic_write_seq(dsi, 0x75, 0x10);

    return 0;
}

static int self_mask_mem_image(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;

    mipi_dsi_generic_write_seq(dsi, 0x4c, 0xc0, 0xd0, 0x41, 0xf6, 0x45, 0xee, 0x41, 0xe9, 0x45, 0xdd, 0x41, 0xdc, 0x46, 0xcc, 0x41, 0xbe, 0x45, 0xbb, 0x41, 0xb1, 0x45, 0xaa, 0x41, 0xa4, 0x45, 0x99, 0x41, 0x96, 0x46, 0x88, 0x41, 0x78, 0x45, 0x77, 0x41, 0x6b, 0x45, 0x66, 0x41, 0x5e, 0x45, 0x55, 0x41, 0x51, 0x46, 0x44, 0x46, 0x33, 0x41, 0x26, 0x64, 0x22, 0x41, 0x18, 0x67, 0x11, 0x41, 0x0e, 0x82, 0xce, 0x41, 0x0d, 0x67, 0x11, 0x41, 0x18, 0x64, 0x22, 0x41, 0x26, 0x46, 0x33, 0x46, 0x44, 0x41, 0x51, 0x45, 0x55, 0x41, 0x5e, 0x45, 0x66, 0x41, 0x6b, 0x45, 0x77, 0x41, 0x78, 0x46, 0x88, 0x41, 0x96, 0x45, 0x99, 0x41, 0xa3);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x45, 0xaa, 0x41, 0xb0, 0x45, 0xbb, 0x41, 0xbd, 0x46, 0xcc, 0x41, 0xdb, 0x45, 0xdd, 0x41, 0xe8, 0x45, 0xee, 0x41, 0xf5, 0xc1, 0x67, 0x41, 0xef, 0x41, 0xee, 0x41, 0xe9, 0x42, 0xdd, 0x41, 0xd1, 0x41, 0xcc, 0x41, 0xcb, 0x42, 0xbb, 0x41, 0xb3, 0x42, 0xaa, 0x41, 0xa1, 0x43, 0x99, 0x43, 0x88, 0x41, 0x7f, 0x43, 0x77, 0x43, 0x66, 0x41, 0x5d, 0x43, 0x55, 0x43, 0x44, 0x41, 0x3b, 0x43, 0x33, 0x41, 0x2f, 0x46, 0x22, 0x46, 0x11, 0x41, 0x04, 0x84, 0x0a, 0x41, 0x03, 0x46, 0x11, 0x41, 0x21, 0x45, 0x22, 0x41, 0x2e, 0x43, 0x33, 0x41, 0x3a, 0x43, 0x44, 0x41, 0x54, 0x42, 0x55, 0x41, 0x5c);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x43, 0x66, 0x41, 0x76, 0x42, 0x77, 0x41, 0x7f, 0x43, 0x88, 0x41, 0x98, 0x42, 0x99, 0x41, 0xa1, 0x42, 0xaa, 0x41, 0xb3, 0x42, 0xbb, 0x41, 0xcb, 0x41, 0xcc, 0x41, 0xd1, 0x42, 0xdd, 0x41, 0xe9, 0x41, 0xee, 0x41, 0xef, 0xc1, 0x10, 0x41, 0xf9, 0x41, 0xe9, 0x41, 0xd9, 0x41, 0xcc, 0x41, 0xbe, 0x41, 0xb3, 0x41, 0xa9, 0x41, 0x99, 0x41, 0x94, 0x41, 0x88, 0x41, 0x85, 0x41, 0x77, 0x41, 0x75, 0x42, 0x66, 0x42, 0x55, 0x41, 0x45, 0x41, 0x44, 0x41, 0x3d, 0x42, 0x33, 0x41, 0x25, 0x41, 0x22, 0x41, 0x1f, 0x42, 0x11, 0x41, 0x08, 0x84, 0x76, 0x41, 0x07, 0x42, 0x11, 0x41, 0x1f, 0x41, 0x22);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x25, 0x42, 0x33, 0x41, 0x3d, 0x41, 0x44, 0x41, 0x45, 0x42, 0x55, 0x42, 0x66, 0x41, 0x75, 0x41, 0x77, 0x41, 0x84, 0x41, 0x88, 0x41, 0x94, 0x41, 0x99, 0x41, 0xa9, 0x41, 0xb3, 0x41, 0xbe, 0x41, 0xcc, 0x41, 0xd9, 0x41, 0xe9, 0x41, 0xf9, 0xc0, 0xe5, 0x41, 0xf9, 0x41, 0xe3, 0x41, 0xcf, 0x41, 0xb9, 0x41, 0xa5, 0x41, 0x91, 0x41, 0x7e, 0x41, 0x6a, 0x41, 0x55, 0x41, 0x40, 0x41, 0x2d, 0x41, 0x1c, 0x41, 0x0b, 0x84, 0xae, 0x41, 0x0a, 0x41, 0x1a, 0x41, 0x2b, 0x41, 0x3f, 0x41, 0x53, 0x41, 0x69, 0x41, 0x7d, 0x41, 0x91, 0x41, 0xa4, 0x41, 0xb8, 0x41, 0xcf, 0x41, 0xe2, 0x41, 0xf9);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0xc0, 0xd1, 0x41, 0xef, 0x41, 0xcd, 0x41, 0xaa, 0x41, 0x87, 0x41, 0x65, 0x41, 0x41, 0x41, 0x1f, 0x41, 0x02, 0x84, 0xc6, 0x41, 0x02, 0x41, 0x1f, 0x41, 0x41, 0x41, 0x64, 0x41, 0x87, 0x41, 0xaa, 0x41, 0xcd, 0x41, 0xef, 0xc0, 0xc4, 0x41, 0xde, 0x41, 0xb3, 0x41, 0x88, 0x41, 0x5d, 0x41, 0x36, 0x41, 0x14, 0x84, 0xd6, 0x41, 0x13, 0x41, 0x36, 0x41, 0x5d, 0x41, 0x88, 0x41, 0xb3, 0x41, 0xde, 0xc0, 0xb9, 0x41, 0xd9, 0x41, 0xa4, 0x41, 0x71, 0x41, 0x40, 0x41, 0x10, 0x84, 0xe2, 0x41, 0x10, 0x41, 0x40, 0x41, 0x70, 0x41, 0xa2, 0x41, 0xd8, 0x41, 0xfe, 0xc0, 0xae, 0x41, 0xf6, 0x41, 0xc1);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x82, 0x41, 0x49, 0x41, 0x12, 0x84, 0xec, 0x41, 0x10, 0x41, 0x46, 0x41, 0x7e, 0x41, 0xb9, 0x41, 0xf2, 0xc0, 0xa6, 0x41, 0xfd, 0x41, 0xca, 0x41, 0x82, 0x41, 0x3c, 0x41, 0x07, 0x84, 0xf4, 0x41, 0x03, 0x41, 0x32, 0x41, 0x79, 0x41, 0xc6, 0x41, 0xfc, 0xc0, 0x9f, 0x41, 0xed, 0x41, 0xa8, 0x41, 0x5f, 0x41, 0x15, 0x84, 0xfc, 0x41, 0x0f, 0x41, 0x50, 0x41, 0x9c, 0x41, 0xe9, 0xc0, 0x99, 0x41, 0xe6, 0x41, 0x8e, 0x41, 0x3a, 0x41, 0x03, 0x85, 0x02, 0x41, 0x02, 0x41, 0x39, 0x41, 0x8a, 0x41, 0xdf, 0xc0, 0x93, 0x41, 0xf3, 0x41, 0xa3, 0x41, 0x47, 0x41, 0x03, 0x85, 0x09, 0x41, 0x34);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x8a, 0x41, 0xe5, 0xc0, 0x8d, 0x41, 0xfc, 0x41, 0xb6, 0x41, 0x5b, 0x41, 0x0b, 0x85, 0x0e, 0x41, 0x03, 0x41, 0x4d, 0x41, 0xb0, 0x41, 0xfa, 0xc0, 0x88, 0x41, 0xe7, 0x41, 0x84, 0x41, 0x1e, 0x85, 0x14, 0x41, 0x1b, 0x41, 0x83, 0x41, 0xe8, 0xc0, 0x84, 0x41, 0xc4, 0x41, 0x56, 0x41, 0x05, 0x85, 0x18, 0x41, 0x07, 0x41, 0x5c, 0x41, 0xc9, 0xc0, 0x7f, 0x41, 0xf9, 0x41, 0xa1, 0x41, 0x33, 0x85, 0x1e, 0x41, 0x36, 0x41, 0xa4, 0x41, 0xfa, 0xc0, 0x7a, 0x41, 0xf7, 0x41, 0x92, 0x41, 0x1d, 0x85, 0x22, 0x41, 0x22, 0x41, 0xa0, 0x41, 0xfb, 0xc0, 0x76, 0x41, 0xf9, 0x41, 0x93, 0x41, 0x1a);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x26, 0x41, 0x27, 0x41, 0xa5, 0x41, 0xfd, 0xc0, 0x72, 0x41, 0xfc, 0x41, 0xa1, 0x41, 0x21, 0x85, 0x2a, 0x41, 0x2c, 0x41, 0xab, 0x41, 0xfe, 0xc0, 0x6f, 0x41, 0xbf, 0x41, 0x2a, 0x85, 0x2e, 0x41, 0x32, 0x41, 0xc4, 0xc0, 0x6c, 0x41, 0xe5, 0x41, 0x59, 0x85, 0x31, 0x41, 0x01, 0x41, 0x5d, 0x41, 0xe6, 0xc0, 0x68, 0x41, 0xf9, 0x41, 0x8b, 0x41, 0x0c, 0x85, 0x34, 0x41, 0x0e, 0x41, 0x8c, 0x41, 0xfa, 0xc0, 0x65, 0x41, 0xbd, 0x41, 0x2a, 0x85, 0x38, 0x41, 0x2a, 0x41, 0xbc, 0xc0, 0x62, 0x41, 0xf2, 0x41, 0x63, 0x85, 0x3c, 0x41, 0x62, 0x41, 0xf1, 0xc0, 0x5f, 0x41, 0xc3, 0x41, 0x21);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x3e, 0x41, 0x21, 0x41, 0xc2, 0xc0, 0x5c, 0x41, 0xf8, 0x41, 0x76, 0x41, 0x02, 0x85, 0x40, 0x41, 0x02, 0x41, 0x76, 0x41, 0xf8, 0xc0, 0x59, 0x41, 0xd0, 0x41, 0x2e, 0x85, 0x44, 0x41, 0x2d, 0x41, 0xd0, 0xc0, 0x57, 0x41, 0x94, 0x41, 0x07, 0x85, 0x46, 0x41, 0x07, 0x41, 0x95, 0xc0, 0x54, 0x41, 0xf9, 0x41, 0x66, 0x85, 0x4a, 0x41, 0x66, 0x41, 0xf9, 0xc0, 0x51, 0x41, 0xe9, 0x41, 0x3b, 0x85, 0x4c, 0x41, 0x3c, 0x41, 0xe9, 0xc0, 0x4f, 0x41, 0xcd, 0x41, 0x1d, 0x85, 0x4e, 0x41, 0x1d, 0x41, 0xcd, 0xc0, 0x4d, 0x41, 0xa6, 0x41, 0x09, 0x85, 0x50, 0x41, 0x09, 0x41, 0xa7, 0xc0, 0x4b);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x7c, 0x41, 0x01, 0x85, 0x52, 0x41, 0x01, 0x41, 0x7c, 0xc0, 0x48, 0x41, 0xfe, 0x41, 0x6e, 0x85, 0x56, 0x41, 0x6e, 0x41, 0xfe, 0xc0, 0x45, 0x41, 0xfc, 0x41, 0x65, 0x85, 0x58, 0x41, 0x65, 0x41, 0xfc, 0xc0, 0x43, 0x41, 0xfc, 0x41, 0x5c, 0x85, 0x5a, 0x41, 0x5b, 0x41, 0xfc, 0xc0, 0x41, 0x41, 0xf9, 0x41, 0x53, 0x85, 0x5c, 0x41, 0x52, 0x41, 0xf9, 0xc0, 0x3f, 0x41, 0xf7, 0x41, 0x4b, 0x85, 0x5e, 0x41, 0x4a, 0x41, 0xf6, 0xc0, 0x3d, 0x41, 0xfc, 0x41, 0x4e, 0x85, 0x60, 0x41, 0x4e, 0x41, 0xfc, 0xc0, 0x3c, 0x41, 0x69, 0x85, 0x62, 0x41, 0x66, 0x41, 0xfe, 0xc0, 0x3a, 0x41, 0x7c);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x64, 0x41, 0x78, 0xc0, 0x39, 0x41, 0x96, 0x85, 0x66, 0x41, 0x96, 0xc0, 0x37, 0x41, 0xb1, 0x41, 0x03, 0x85, 0x66, 0x41, 0x03, 0x41, 0xb1, 0xc0, 0x35, 0x41, 0xc8, 0x41, 0x0a, 0x85, 0x68, 0x41, 0x0a, 0x41, 0xc8, 0xc0, 0x33, 0x41, 0xe5, 0x41, 0x16, 0x85, 0x6a, 0x41, 0x15, 0x41, 0xe4, 0xc0, 0x31, 0x41, 0xfc, 0x41, 0x40, 0x85, 0x6c, 0x41, 0x3c, 0x41, 0xfb, 0xc0, 0x30, 0x41, 0x7d, 0x85, 0x6e, 0x41, 0x76, 0xc0, 0x2f, 0x41, 0xbc, 0x41, 0x03, 0x85, 0x6e, 0x41, 0x01, 0x41, 0xb3, 0xc0, 0x2d, 0x41, 0xe7, 0x41, 0x18, 0x85, 0x70, 0x41, 0x12, 0x41, 0xe0, 0xc0, 0x2b, 0x41, 0xfc);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x43, 0x85, 0x72, 0x41, 0x37, 0x41, 0xf9, 0xc0, 0x2a, 0x41, 0x83, 0x85, 0x74, 0x41, 0x72, 0xc0, 0x29, 0x41, 0xc7, 0x41, 0x04, 0x85, 0x74, 0x41, 0x02, 0x41, 0xc0, 0xc0, 0x27, 0x41, 0xf4, 0x41, 0x22, 0x85, 0x76, 0x41, 0x21, 0x41, 0xf3, 0xc0, 0x26, 0x41, 0x74, 0x85, 0x78, 0x41, 0x6a, 0xc0, 0x25, 0x41, 0xd3, 0x41, 0x04, 0x85, 0x78, 0x41, 0x01, 0x41, 0xc1, 0xc0, 0x23, 0x41, 0xfe, 0x41, 0x41, 0x85, 0x7a, 0x41, 0x32, 0x41, 0xfd, 0xc0, 0x22, 0x41, 0xa0, 0x85, 0x7c, 0x41, 0x9a, 0xc0, 0x21, 0x41, 0xec, 0x41, 0x12, 0x85, 0x7c, 0x41, 0x12, 0x41, 0xec, 0xc0, 0x20, 0x41, 0x70);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x7e, 0x41, 0x6f, 0xc0, 0x1f, 0x41, 0xdb, 0x41, 0x05, 0x85, 0x7e, 0x41, 0x05, 0x41, 0xdb, 0xc0, 0x1e, 0x41, 0x53, 0x85, 0x80, 0x41, 0x52, 0xc0, 0x1d, 0x41, 0xcb, 0x41, 0x01, 0x85, 0x80, 0x41, 0x01, 0x41, 0xcb, 0xc0, 0x1c, 0x41, 0x4c, 0x85, 0x82, 0x41, 0x4b, 0xc0, 0x1b, 0x41, 0xcb, 0x41, 0x01, 0x85, 0x83, 0x41, 0xc9, 0xc0, 0x1a, 0x41, 0x4f, 0x85, 0x84, 0x41, 0x4b, 0xc0, 0x19, 0x41, 0xdb, 0x41, 0x02, 0x85, 0x84, 0x41, 0x01, 0x41, 0xd5, 0xc0, 0x18, 0x41, 0x6d, 0x85, 0x86, 0x41, 0x6a, 0xc0, 0x17, 0x41, 0xef, 0x41, 0x0c, 0x85, 0x86, 0x41, 0x0c, 0x41, 0xef, 0xc0, 0x16);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x8b, 0x85, 0x88, 0x41, 0x8b, 0xc0, 0x15, 0x41, 0xfb, 0x41, 0x1e, 0x85, 0x88, 0x41, 0x1e, 0x41, 0xfb, 0xc0, 0x14, 0x41, 0xab, 0x85, 0x8a, 0x41, 0xa9, 0xc0, 0x14, 0x41, 0x40, 0x85, 0x8a, 0x41, 0x38, 0xc0, 0x13, 0x41, 0xd6, 0x85, 0x8c, 0x41, 0xd5, 0xc0, 0x12, 0x41, 0x7a, 0x85, 0x8c, 0x41, 0x78, 0xc0, 0x11, 0x41, 0xfe, 0x41, 0x1f, 0x85, 0x8c, 0x41, 0x1e, 0x41, 0xfd, 0xc0, 0x10, 0x41, 0xc0, 0x85, 0x8e, 0x41, 0xc0, 0xc0, 0x10, 0x41, 0x64, 0x85, 0x8e, 0x41, 0x63, 0xc0, 0x0f, 0x41, 0xf7, 0x41, 0x10, 0x85, 0x8e, 0x41, 0x10, 0x41, 0xf7, 0xc0, 0x0e, 0x41, 0xab, 0x85, 0x90);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0xab, 0xc0, 0x0e, 0x41, 0x4f, 0x85, 0x90, 0x41, 0x4f, 0xc0, 0x0d, 0x41, 0xf3, 0x41, 0x08, 0x85, 0x90, 0x41, 0x09, 0x41, 0xf4, 0xc0, 0x0c, 0x41, 0xaa, 0x85, 0x92, 0x41, 0xaf, 0xc0, 0x0c, 0x41, 0x60, 0x85, 0x92, 0x41, 0x60, 0xc0, 0x0b, 0x41, 0xfe, 0x41, 0x1a, 0x85, 0x92, 0x41, 0x16, 0x41, 0xfd, 0xc0, 0x0a, 0x41, 0xc8, 0x85, 0x94, 0x41, 0xcb, 0xc0, 0x0a, 0x41, 0x89, 0x85, 0x94, 0x41, 0x85, 0xc0, 0x0a, 0x41, 0x4c, 0x85, 0x94, 0x41, 0x3f, 0xc0, 0x09, 0x41, 0xf5, 0x41, 0x09, 0x85, 0x94, 0x41, 0x05, 0x41, 0xf4, 0xc0, 0x08, 0x41, 0xbe, 0x85, 0x96, 0x41, 0xbc, 0xc0, 0x08);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x82, 0x85, 0x96, 0x41, 0x7f, 0xc0, 0x08, 0x41, 0x44, 0x85, 0x96, 0x41, 0x44, 0xc0, 0x07, 0x41, 0xfc, 0x41, 0x0c, 0x85, 0x96, 0x41, 0x0c, 0x41, 0xfc, 0xc0, 0x06, 0x41, 0xd6, 0x85, 0x98, 0x41, 0xd6, 0xc0, 0x06, 0x41, 0xa3, 0x85, 0x98, 0x41, 0xa3, 0xc0, 0x06, 0x41, 0x71, 0x85, 0x98, 0x41, 0x71, 0xc0, 0x06, 0x41, 0x40, 0x85, 0x98, 0x41, 0x40, 0xc0, 0x06, 0x41, 0x12, 0x85, 0x98, 0x41, 0x12, 0xc0, 0x05, 0x41, 0xe4, 0x85, 0x9a, 0x41, 0xe6, 0xc0, 0x04, 0x41, 0xb7, 0x85, 0x9a, 0x41, 0xba, 0xc0, 0x04, 0x41, 0x8b, 0x85, 0x9a, 0x41, 0x8e, 0xc0, 0x04, 0x41, 0x67, 0x85, 0x9a);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x65, 0xc0, 0x04, 0x41, 0x44, 0x85, 0x9a, 0x41, 0x3d, 0xc0, 0x04, 0x41, 0x21, 0x85, 0x9a, 0x41, 0x14, 0xc0, 0x03, 0x41, 0xfb, 0x41, 0x04, 0x85, 0x9b, 0x41, 0xed, 0xc0, 0x02, 0x41, 0xdd, 0x85, 0x9c, 0x41, 0xcc, 0xc0, 0x02, 0x41, 0xb8, 0x85, 0x9c, 0x41, 0xae, 0xc0, 0x02, 0x41, 0x96, 0x85, 0x9c, 0x41, 0x90, 0xc0, 0x02, 0x41, 0x74, 0x85, 0x9c, 0x41, 0x72, 0xc0, 0x02, 0x41, 0x58, 0x85, 0x9c, 0x41, 0x58, 0xc0, 0x02, 0x41, 0x42, 0x85, 0x9c, 0x41, 0x42, 0xc0, 0x02, 0x41, 0x27, 0x85, 0x9c, 0x41, 0x27, 0xc0, 0x02, 0x41, 0x10, 0x85, 0x9c, 0x41, 0x10, 0xc0, 0x01, 0x41, 0xf9);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x9e, 0x41, 0xf9, 0x41, 0xe6, 0x85, 0x9e, 0x41, 0xe6, 0x41, 0xd0, 0x85, 0x9e, 0x41, 0xd2, 0x41, 0xbc, 0x85, 0x9e, 0x41, 0xbe, 0x41, 0xac, 0x85, 0x9e, 0x41, 0xab, 0x41, 0x9e, 0x85, 0x9e, 0x41, 0x98, 0x41, 0x90, 0x85, 0x9e, 0x41, 0x82, 0x41, 0x81, 0x85, 0x9e, 0x41, 0x70, 0x41, 0x73, 0x85, 0x9e, 0x41, 0x5f, 0x41, 0x64, 0x85, 0x9e, 0x41, 0x58, 0x41, 0x56, 0x85, 0x9e, 0x41, 0x4b, 0x41, 0x47, 0x85, 0x9e, 0x41, 0x41, 0x41, 0x3c, 0x85, 0x9e, 0x42, 0x3c, 0x85, 0x9e, 0x41, 0x35, 0x41, 0x2d, 0x85, 0x9e, 0x42, 0x2d, 0x85, 0x9e, 0x42, 0x2d, 0x85, 0x9e, 0x41, 0x28, 0x41, 0x1f);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x9e, 0x42, 0x1e, 0x85, 0x9e, 0x41, 0x1e, 0x41, 0x1c, 0x85, 0x9e, 0x41, 0x1b, 0x41, 0x0f, 0x85, 0x9e, 0x42, 0x0f, 0x85, 0x9e, 0x42, 0x0f, 0x85, 0x9e, 0x41, 0x0e, 0xbf, 0xff, 0xbf, 0xff, 0x97, 0xe2, 0x41, 0x01, 0x85, 0x9f, 0x41, 0x0f, 0x85, 0x9f, 0x41, 0x0f, 0x85, 0x9f, 0x41, 0x0f, 0x85, 0x9f, 0x41, 0x0f, 0x85, 0x9f, 0x41, 0x1a, 0x85, 0x9e, 0x41, 0x05, 0x41, 0x1e, 0x85, 0x9e, 0x41, 0x0f, 0x41, 0x1e, 0x85, 0x9e, 0x41, 0x11, 0x41, 0x1e, 0x85, 0x9e, 0x41, 0x1e, 0x41, 0x2b, 0x85, 0x9e, 0x41, 0x1e, 0x41, 0x2d, 0x85, 0x9e, 0x41, 0x2d, 0x41, 0x31, 0x85, 0x9e, 0x41, 0x2d);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x3c, 0x85, 0x9e, 0x41, 0x39, 0x41, 0x40, 0x85, 0x9e, 0x41, 0x3c, 0x41, 0x4b, 0x85, 0x9e, 0x41, 0x46, 0x41, 0x4e, 0x85, 0x9e, 0x41, 0x4b, 0x41, 0x5b, 0x85, 0x9e, 0x41, 0x56, 0x41, 0x69, 0x85, 0x9e, 0x41, 0x65, 0x41, 0x77, 0x85, 0x9e, 0x41, 0x74, 0x41, 0x85, 0x85, 0x9e, 0x41, 0x82, 0x41, 0x93, 0x85, 0x9e, 0x41, 0x91, 0x41, 0xa0, 0x85, 0x9e, 0x41, 0xa0, 0x41, 0xb5, 0x85, 0x9e, 0x41, 0xb3, 0x41, 0xcb, 0x85, 0x9e, 0x41, 0xc9, 0x41, 0xe0, 0x85, 0x9e, 0x41, 0xdc, 0x41, 0xf6, 0x85, 0x9e, 0x41, 0xf4, 0xc0, 0x01, 0x41, 0x0b, 0x85, 0x9c, 0x41, 0x08, 0xc0, 0x02, 0x41, 0x24);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x9c, 0x41, 0x20, 0xc0, 0x02, 0x41, 0x41, 0x85, 0x9c, 0x41, 0x3b, 0xc0, 0x02, 0x41, 0x5d, 0x85, 0x9c, 0x41, 0x57, 0xc0, 0x02, 0x41, 0x7b, 0x85, 0x9c, 0x41, 0x75, 0xc0, 0x02, 0x41, 0x97, 0x85, 0x9c, 0x41, 0x91, 0xc0, 0x02, 0x41, 0xb4, 0x85, 0x9c, 0x41, 0xad, 0xc0, 0x02, 0x41, 0xd5, 0x85, 0x9c, 0x41, 0xcf, 0xc0, 0x02, 0x41, 0xf7, 0x41, 0x01, 0x85, 0x9b, 0x41, 0xf1, 0xc0, 0x03, 0x41, 0x1d, 0x85, 0x9a, 0x41, 0x18, 0xc0, 0x04, 0x41, 0x3f, 0x85, 0x9a, 0x41, 0x3b, 0xc0, 0x04, 0x41, 0x64, 0x85, 0x9a, 0x41, 0x60, 0xc0, 0x04, 0x41, 0x87, 0x85, 0x9a, 0x41, 0x84, 0xc0, 0x04);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0xb3, 0x85, 0x9a, 0x41, 0xad, 0xc0, 0x04, 0x41, 0xde, 0x85, 0x9a, 0x41, 0xdf, 0xc0, 0x04, 0x41, 0xfe, 0x41, 0x0e, 0x85, 0x98, 0x41, 0x15, 0xc0, 0x06, 0x41, 0x40, 0x85, 0x98, 0x41, 0x41, 0xc0, 0x06, 0x41, 0x71, 0x85, 0x98, 0x41, 0x6c, 0xc0, 0x06, 0x41, 0xa7, 0x85, 0x98, 0x41, 0x9c, 0xc0, 0x06, 0x41, 0xdf, 0x85, 0x98, 0x41, 0xd7, 0xc0, 0x07, 0x41, 0x1b, 0x85, 0x96, 0x41, 0x12, 0x41, 0xfe, 0xc0, 0x07, 0x41, 0x54, 0x85, 0x96, 0x41, 0x49, 0xc0, 0x08, 0x41, 0x8d, 0x85, 0x96, 0x41, 0x83, 0xc0, 0x08, 0x41, 0xca, 0x85, 0x96, 0x41, 0xbe, 0xc0, 0x08, 0x41, 0xfc, 0x41, 0x0f);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x85, 0x94, 0x41, 0x08, 0x41, 0xf6, 0xc0, 0x09, 0x41, 0x4d, 0x85, 0x94, 0x41, 0x43, 0xc0, 0x0a, 0x41, 0x8f, 0x85, 0x94, 0x41, 0x86, 0xc0, 0x0a, 0x41, 0xd1, 0x85, 0x94, 0x41, 0xca, 0xc0, 0x0a, 0x41, 0xfe, 0x41, 0x14, 0x85, 0x92, 0x41, 0x11, 0x41, 0xfc, 0xc0, 0x0b, 0x41, 0x5c, 0x85, 0x92, 0x41, 0x57, 0xc0, 0x0c, 0x41, 0xad, 0x85, 0x92, 0x41, 0xab, 0xc0, 0x0c, 0x41, 0xf5, 0x41, 0x0b, 0x85, 0x90, 0x41, 0x09, 0x41, 0xf4, 0xc0, 0x0d, 0x41, 0x53, 0x85, 0x90, 0x41, 0x52, 0xc0, 0x0e, 0x41, 0xa5, 0x85, 0x90, 0x41, 0xa4, 0xc0, 0x0e, 0x41, 0xf0, 0x41, 0x08, 0x85, 0x8e, 0x41, 0x08);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0xf0, 0xc0, 0x0f, 0x41, 0x55, 0x85, 0x8e, 0x41, 0x54, 0xc0, 0x10, 0x41, 0xb2, 0x85, 0x8e, 0x41, 0xb0, 0xc0, 0x10, 0x41, 0xfa, 0x41, 0x15, 0x85, 0x8c, 0x41, 0x12, 0x41, 0xf9, 0xc0, 0x11, 0x41, 0x6c, 0x85, 0x8c, 0x41, 0x67, 0xc0, 0x12, 0x41, 0xcb, 0x85, 0x8c, 0x41, 0xc4, 0xc0, 0x13, 0x41, 0x37, 0x85, 0x8a, 0x41, 0x2c, 0xc0, 0x14, 0x41, 0xa1, 0x85, 0x8a, 0x41, 0x9a, 0xc0, 0x14, 0x41, 0xf9, 0x41, 0x19, 0x85, 0x88, 0x41, 0x14, 0x41, 0xf6, 0xc0, 0x15, 0x41, 0x83, 0x85, 0x88, 0x41, 0x74, 0xc0, 0x16, 0x41, 0xe6, 0x41, 0x06, 0x85, 0x86, 0x41, 0x04, 0x41, 0xe1, 0xc0, 0x17);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x67, 0x85, 0x86, 0x41, 0x5c, 0xc0, 0x18, 0x41, 0xde, 0x41, 0x04, 0x85, 0x84, 0x41, 0x02, 0x41, 0xd8, 0xc0, 0x19, 0x41, 0x5f, 0x85, 0x84, 0x41, 0x59, 0xc0, 0x1a, 0x41, 0xd8, 0x41, 0x02, 0x85, 0x82, 0x41, 0x02, 0x41, 0xd5, 0xc0, 0x1b, 0x41, 0x56, 0x85, 0x82, 0x41, 0x55, 0xc0, 0x1c, 0x41, 0xd7, 0x41, 0x04, 0x85, 0x80, 0x41, 0x04, 0x41, 0xd7, 0xc0, 0x1d, 0x41, 0x67, 0x85, 0x80, 0x41, 0x65, 0xc0, 0x1e, 0x41, 0xe6, 0x41, 0x0a, 0x85, 0x7e, 0x41, 0x0a, 0x41, 0xe5, 0xc0, 0x1f, 0x41, 0x7c, 0x85, 0x7e, 0x41, 0x7a, 0xc0, 0x20, 0x41, 0xf1, 0x41, 0x15, 0x85, 0x7c, 0x41, 0x14);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0xf0, 0xc0, 0x21, 0x41, 0xa2, 0x85, 0x7c, 0x41, 0x9f, 0xc0, 0x23, 0x41, 0x46, 0x85, 0x7a, 0x41, 0x43, 0x41, 0xfe, 0xc0, 0x23, 0x41, 0xdd, 0x41, 0x0b, 0x85, 0x78, 0x41, 0x09, 0x41, 0xdc, 0xc0, 0x25, 0x41, 0x8b, 0x85, 0x78, 0x41, 0x87, 0xc0, 0x26, 0x41, 0xfc, 0x41, 0x32, 0x85, 0x76, 0x41, 0x2f, 0x41, 0xfb, 0xc0, 0x27, 0x41, 0xd0, 0x41, 0x06, 0x85, 0x74, 0x41, 0x06, 0x41, 0xcd, 0xc0, 0x29, 0x41, 0x8d, 0x85, 0x74, 0x41, 0x8b, 0xc0, 0x2a, 0x41, 0xfe, 0x41, 0x43, 0x85, 0x72, 0x41, 0x44, 0x41, 0xfe, 0xc0, 0x2b, 0x41, 0xe6, 0x41, 0x13, 0x85, 0x70, 0x41, 0x15, 0x41, 0xe6);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0xc0, 0x2d, 0x41, 0xae, 0x85, 0x6f, 0x41, 0x01, 0x41, 0xb2, 0xc0, 0x2f, 0x41, 0x6b, 0x85, 0x6e, 0x41, 0x6f, 0xc0, 0x30, 0x41, 0xf9, 0x41, 0x40, 0x85, 0x6c, 0x41, 0x42, 0x41, 0xfb, 0xc0, 0x31, 0x41, 0xea, 0x41, 0x23, 0x85, 0x6a, 0x41, 0x24, 0x41, 0xec, 0xc0, 0x33, 0x41, 0xd2, 0x41, 0x0f, 0x85, 0x68, 0x41, 0x0f, 0x41, 0xd4, 0xc0, 0x35, 0x41, 0xb1, 0x41, 0x03, 0x85, 0x66, 0x41, 0x03, 0x41, 0xb2, 0xc0, 0x37, 0x41, 0x89, 0x85, 0x66, 0x41, 0x89, 0xc0, 0x39, 0x41, 0x78, 0x85, 0x64, 0x41, 0x78, 0xc0, 0x3b, 0x41, 0x69, 0x85, 0x62, 0x41, 0x69, 0x41, 0xfe, 0xc0, 0x3b, 0x41, 0xfc);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x5a, 0x85, 0x60, 0x41, 0x5a, 0x41, 0xfc, 0xc0, 0x3d, 0x41, 0xf9, 0x41, 0x4c, 0x85, 0x5e, 0x41, 0x4d, 0x41, 0xf9, 0xc0, 0x3f, 0x41, 0xf5, 0x41, 0x48, 0x85, 0x5c, 0x41, 0x49, 0x41, 0xf5, 0xc0, 0x41, 0x41, 0xf9, 0x41, 0x50, 0x85, 0x5a, 0x41, 0x51, 0x41, 0xf9, 0xc0, 0x43, 0x41, 0xfb, 0x41, 0x5d, 0x85, 0x58, 0x41, 0x5c, 0x41, 0xfc, 0xc0, 0x45, 0x41, 0xfe, 0x41, 0x73, 0x85, 0x56, 0x41, 0x68, 0x41, 0xfd, 0xc0, 0x48, 0x41, 0x8d, 0x41, 0x01, 0x85, 0x53, 0x41, 0x76, 0x41, 0xfe, 0xc0, 0x4a, 0x41, 0x9d, 0x41, 0x05, 0x85, 0x50, 0x41, 0x06, 0x41, 0x9a, 0xc0, 0x4d, 0x41, 0xbe);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x14, 0x85, 0x4e, 0x41, 0x16, 0x41, 0xc2, 0xc0, 0x4f, 0x41, 0xdf, 0x41, 0x2f, 0x85, 0x4c, 0x41, 0x2f, 0x41, 0xe0, 0xc0, 0x51, 0x41, 0xf4, 0x41, 0x57, 0x85, 0x4a, 0x41, 0x53, 0x41, 0xf3, 0xc0, 0x54, 0x41, 0x9b, 0x41, 0x0b, 0x85, 0x46, 0x41, 0x09, 0x41, 0x95, 0x41, 0xfe, 0xc0, 0x56, 0x41, 0xd8, 0x41, 0x32, 0x85, 0x44, 0x41, 0x2e, 0x41, 0xd4, 0xc0, 0x59, 0x41, 0xf9, 0x41, 0x74, 0x41, 0x02, 0x85, 0x40, 0x41, 0x01, 0x41, 0x6e, 0x41, 0xf7, 0xc0, 0x5c, 0x41, 0xbb, 0x41, 0x1f, 0x85, 0x3e, 0x41, 0x1b, 0x41, 0xb6, 0xc0, 0x5f, 0x41, 0xf3, 0x41, 0x6e, 0x41, 0x02, 0x85, 0x3a);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x02, 0x41, 0x6c, 0x41, 0xf1, 0xc0, 0x62, 0x41, 0xc7, 0x41, 0x2c, 0x85, 0x38, 0x41, 0x2e, 0x41, 0xc8, 0xc0, 0x65, 0x41, 0xf9, 0x41, 0x81, 0x41, 0x07, 0x85, 0x34, 0x41, 0x0a, 0x41, 0x89, 0x41, 0xfb, 0xc0, 0x68, 0x41, 0xdb, 0x41, 0x56, 0x41, 0x01, 0x85, 0x31, 0x41, 0x55, 0x41, 0xe1, 0xc0, 0x6c, 0x41, 0xc8, 0x41, 0x40, 0x85, 0x2e, 0x41, 0x31, 0x41, 0xbf, 0xc0, 0x70, 0x41, 0xb5, 0x41, 0x2b, 0x85, 0x2a, 0x41, 0x24, 0x41, 0xa7, 0x41, 0xfd, 0xc0, 0x72, 0x41, 0xfd, 0x41, 0xa5, 0x41, 0x2d, 0x85, 0x26, 0x41, 0x1a, 0x41, 0x98, 0x41, 0xfb, 0xc0, 0x76, 0x41, 0xfe, 0x41, 0xb0);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x37, 0x85, 0x22, 0x41, 0x22, 0x41, 0x97, 0x41, 0xf7, 0xc0, 0x7b, 0x41, 0xbb, 0x41, 0x41, 0x85, 0x1e, 0x41, 0x38, 0x41, 0xa7, 0x41, 0xfb, 0xc0, 0x7f, 0x41, 0xc7, 0x41, 0x52, 0x41, 0x03, 0x85, 0x18, 0x41, 0x09, 0x41, 0x62, 0x41, 0xcc, 0xc0, 0x84, 0x41, 0xe1, 0x41, 0x7f, 0x41, 0x22, 0x85, 0x14, 0x41, 0x24, 0x41, 0x8c, 0x41, 0xed, 0xc0, 0x88, 0x41, 0xfd, 0x41, 0xb9, 0x41, 0x59, 0x41, 0x0a, 0x85, 0x0e, 0x41, 0x09, 0x41, 0x52, 0x41, 0xb7, 0x41, 0xfd, 0xc0, 0x8d, 0x41, 0xf3, 0x41, 0xa3, 0x41, 0x4b, 0x41, 0x07, 0x85, 0x08, 0x41, 0x05, 0x41, 0x4a, 0x41, 0xa2, 0x41, 0xf1);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0xc0, 0x93, 0x41, 0xf0, 0x41, 0xa3, 0x41, 0x52, 0x41, 0x0c, 0x85, 0x02, 0x41, 0x06, 0x41, 0x44, 0x41, 0x99, 0x41, 0xec, 0xc0, 0x99, 0x41, 0xf7, 0x41, 0xb8, 0x41, 0x6a, 0x41, 0x1f, 0x84, 0xfc, 0x41, 0x1b, 0x41, 0x64, 0x41, 0xae, 0x41, 0xf3, 0xc0, 0xa0, 0x41, 0xd1, 0x41, 0x87, 0x41, 0x48, 0x41, 0x0d, 0x84, 0xf4, 0x41, 0x0e, 0x41, 0x48, 0x41, 0x86, 0x41, 0xce, 0x41, 0xfe, 0xc0, 0xa6, 0x41, 0xfc, 0x41, 0xce, 0x41, 0x91, 0x41, 0x54, 0x41, 0x18, 0x84, 0xec, 0x41, 0x1b, 0x41, 0x59, 0x41, 0x93, 0x41, 0xd0, 0x41, 0xfc, 0xc0, 0xaf, 0x41, 0xdd, 0x41, 0xa6, 0x41, 0x6e, 0x41, 0x3c);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x11, 0x84, 0xe2, 0x41, 0x10, 0x41, 0x3c, 0x41, 0x70, 0x41, 0xa6, 0x41, 0xe1, 0xc0, 0xb9, 0x41, 0xe3, 0x41, 0xb9, 0x41, 0x8b, 0x41, 0x61, 0x41, 0x35, 0x41, 0x10, 0x84, 0xd6, 0x41, 0x10, 0x41, 0x35, 0x41, 0x61, 0x41, 0x8b, 0x41, 0xb8, 0x41, 0xe3, 0xc0, 0xc4, 0x41, 0xea, 0x41, 0xc5, 0x41, 0xa5, 0x41, 0x87, 0x41, 0x6b, 0x41, 0x4d, 0x41, 0x30, 0x41, 0x14, 0x84, 0xc6, 0x41, 0x14, 0x41, 0x30, 0x41, 0x4d, 0x41, 0x6b, 0x41, 0x87, 0x41, 0xa4, 0x41, 0xc5, 0x41, 0xe9, 0xc0, 0xd2, 0x41, 0xf6, 0x41, 0xd8, 0x41, 0xbc, 0x41, 0xa4, 0x41, 0x91, 0x41, 0x7d, 0x41, 0x69, 0x41, 0x54);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x3f, 0x41, 0x2c, 0x41, 0x18, 0x41, 0x04, 0x84, 0xae, 0x41, 0x04, 0x41, 0x18, 0x41, 0x2b, 0x41, 0x3f, 0x41, 0x53, 0x41, 0x69, 0x41, 0x7d, 0x41, 0x90, 0x41, 0xa4, 0x41, 0xbb, 0x41, 0xd8, 0x41, 0xf6, 0xc0, 0xe6, 0x41, 0xf3, 0x41, 0xe5, 0x41, 0xd7, 0x41, 0xca, 0x41, 0xbb, 0x41, 0xb5, 0x41, 0xaa, 0x41, 0xa3, 0x41, 0x99, 0x41, 0x92, 0x41, 0x88, 0x41, 0x80, 0x41, 0x77, 0x41, 0x6f, 0x41, 0x66, 0x41, 0x5c, 0x41, 0x55, 0x41, 0x4a, 0x41, 0x44, 0x41, 0x42, 0x42, 0x33, 0x41, 0x2a, 0x42, 0x22, 0x41, 0x13, 0x41, 0x11, 0x41, 0x0c, 0x84, 0x76, 0x41, 0x0c, 0x41, 0x11, 0x41, 0x13);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x42, 0x22, 0x41, 0x2a, 0x42, 0x33, 0x41, 0x42, 0x41, 0x44, 0x41, 0x4a, 0x41, 0x55, 0x41, 0x5c, 0x41, 0x66, 0x41, 0x6e, 0x41, 0x77, 0x41, 0x7f, 0x41, 0x88, 0x41, 0x91, 0x41, 0x99, 0x41, 0xa3, 0x41, 0xaa, 0x41, 0xb5, 0x41, 0xbb, 0x41, 0xca, 0x41, 0xd7, 0x41, 0xe5, 0x41, 0xf3, 0xc1, 0x10, 0x41, 0xf3, 0x41, 0xee, 0x41, 0xed, 0x42, 0xdd, 0x41, 0xd5, 0x42, 0xcc, 0x41, 0xbd, 0x41, 0xbb, 0x41, 0xb6, 0x42, 0xaa, 0x41, 0xa5, 0x43, 0x99, 0x41, 0x8b, 0x42, 0x88, 0x41, 0x82, 0x43, 0x77, 0x41, 0x68, 0x42, 0x66, 0x41, 0x5f, 0x43, 0x55, 0x41, 0x45, 0x42, 0x44, 0x41, 0x3c, 0x43, 0x33);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x2f, 0x45, 0x22, 0x41, 0x21, 0x46, 0x11, 0x41, 0x02, 0x84, 0x0a, 0x41, 0x01, 0x46, 0x11, 0x41, 0x1f, 0x45, 0x22, 0x41, 0x2d, 0x43, 0x33, 0x41, 0x3a, 0x43, 0x44, 0x43, 0x55, 0x41, 0x5e, 0x42, 0x66, 0x41, 0x67, 0x43, 0x77, 0x41, 0x81, 0x42, 0x88, 0x41, 0x8a, 0x43, 0x99, 0x41, 0xa4, 0x42, 0xaa, 0x41, 0xb6, 0x41, 0xbb, 0x41, 0xbd, 0x42, 0xcc, 0x41, 0xd5, 0x42, 0xdd, 0x41, 0xec, 0x41, 0xee, 0x41, 0xf3, 0xc1, 0x67, 0x41, 0xf3, 0x45, 0xee, 0x41, 0xe5, 0x45, 0xdd, 0x41, 0xd7, 0x45, 0xcc, 0x41, 0xc9, 0x46, 0xbb, 0x46, 0xaa, 0x41, 0x9c, 0x45, 0x99, 0x41, 0x8f, 0x45, 0x88);
    mipi_dsi_generic_write_seq(dsi, 0x5c, 0x41, 0x81, 0x45, 0x77, 0x41, 0x73, 0x45, 0x66, 0x41, 0x65, 0x46, 0x55, 0x41, 0x46, 0x45, 0x44, 0x41, 0x38, 0x45, 0x33, 0x41, 0x2a, 0x61, 0x22, 0x41, 0x15, 0x68, 0x11, 0x41, 0x0c, 0x82, 0xd4, 0x41, 0x0c, 0x68, 0x11, 0x41, 0x15, 0x61, 0x22, 0x41, 0x2a, 0x45, 0x33, 0x41, 0x38, 0x45, 0x44, 0x41, 0x46, 0x46, 0x55, 0x41, 0x64, 0x45, 0x66, 0x41, 0x72, 0x45, 0x77, 0x41, 0x80, 0x45, 0x88, 0x41, 0x8e, 0x45, 0x99, 0x41, 0x9c, 0x46, 0xaa, 0x46, 0xbb, 0x41, 0xc8, 0x45, 0xcc, 0x41, 0xd6, 0x45, 0xdd, 0x41, 0xe4, 0x45, 0xee, 0x41, 0xf2, 0xc0, 0xd0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);

    return 0;
}

static int copr_enable(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;

    mipi_dsi_generic_write_seq(dsi, 0xf0, 0x5a, 0x5a);
    mipi_dsi_generic_write_seq(dsi, 0xe1, 0x07, 0x15, 0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x8c, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00);
    mipi_dsi_generic_write_seq(dsi, 0xf0, 0xa5, 0xa5);

    return 0;
}

static int s6e3ha8_mdnie(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;

/*0x39, 0x00, 0x00, 0x00, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xf0, 0x5a, 0x5a);
/*0x39, 0x01, 0x00, 0x08, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xdf, 0x01, 0x6a, 0x9a, 0x25, 0x1a, 0x16, 0x2a, 0x00, 0x37, 0x5a, 0x00, 0x4e, 0xc5, 0x00, 0x5d, 0x17, 0x00, 0x30, 0xc3, 0xff, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0xff, 0xff, 0xff, 0xff, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0xff, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0xff, 0x00, 0x00, 0xff, 0xff, 0x00, 0xff, 0x00, 0xff, 0x00);
/*0x39, 0x01, 0x00, 0x08, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xde, 0x00, 0x40, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x30, 0x01, 0x00, 0x70, 0x01, 0x34, 0x01, 0x40, 0x66, 0x03, 0x01, 0x55, 0x00, 0x08, 0x08, 0x10, 0x20, 0x40, 0x60, 0x00, 0x40, 0x00, 0x50, 0x00, 0x60, 0x00, 0x70, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x00, 0x20, 0x40, 0x60, 0x01, 0x40, 0x01, 0x80, 0x01, 0x80, 0x01, 0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x03, 0xb6, 0x23, 0x24, 0x00, 0x72, 0x01, 0x00, 0x0d, 0x00, 0x04, 0x07, 0x40, 0x00, 0x6e, 0x82, 0xe6, 0xff, 0x00, 0xff, 0x00, 0x00, 0x02, 0x00, 0x02, 0x00, 0x14, 0x00, 0x01, 0x00, 0x01, 0x00, 0x10, 0x00, 0x00, 0x28, 0x3c, 0x04, 0x0f, 0x01, 0x00, 0x00, 0x08, 0x10, 0x18, 0x20, 0x28, 0x30, 0x38, 0x40, 0x48, 0x50, 0x58, 0x60, 0x68, 0x70, 0x78, 0x80, 0x88, 0x90, 0x98, 0xa0, 0xa8, 0xb0, 0xb8, 0xc0, 0xc8, 0xd0, 0xd8, 0xe0, 0xe8, 0xf0, 0xf8, 0x01, 0x00, 0x00, 0x08, 0x10, 0x18, 0x20, 0x28, 0x30, 0x38, 0x40, 0x48, 0x50, 0x58, 0x60, 0x68, 0x70, 0x78, 0x80, 0x88, 0x90, 0x98, 0xa0, 0xa8, 0xb0, 0xb8, 0xc0, 0xc8, 0xd0, 0xd8, 0xe0, 0xe8, 0xf0, 0xf8, 0x01, 0x00);
/*0x39, 0x00, 0x00, 0x00, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xdd, 0x01, 0x00, 0x07, 0xf0, 0x7f, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x01);
/*0x39, 0x00, 0x00, 0x00, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xe2, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x80, 0x01, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80);
/*0x39, 0x01, 0x00, 0x08, 0x00, */mipi_dsi_generic_write_seq(dsi, 0xf0, 0xa5, 0xa5);

    return 0;
}

static int s6e3ha8_amb577px01_wqhd_on(struct s6e3ha8 *ctx)
{
	struct drm_dsc_picture_parameter_set pps;
	struct mipi_dsi_device *dsi = ctx->dsi;
	struct device *dev = &dsi->dev;
	int ret;

	dsi->mode_flags |= MIPI_DSI_MODE_LPM;

	mipi_dsi_generic_write_seq(dsi, 0x9f, 0xa5, 0xa5);
    s6e3ha8_test_key_on_f0(dsi);

	ret = mipi_dsi_compression_mode(dsi, true);
	if (ret < 0) {
		dev_err(dev, "Failed to set compression mode: %d\n", ret);
		return ret;
	}

    s6e3ha8_test_key_off_f0(dsi);

	ret = mipi_dsi_dcs_exit_sleep_mode(dsi);
	if (ret < 0) {
		dev_err(dev, "Failed to exit sleep mode: %d\n", ret);
		return ret;
	}
    usleep_range(5000, 6000);

	mipi_dsi_generic_write_seq(dsi, 0xf0, 0x5a, 0x5a);
	mipi_dsi_generic_write_seq(dsi, 0xf2, 0x13);
	mipi_dsi_generic_write_seq(dsi, 0xf0, 0xa5, 0xa5);

	usleep_range(10000, 11000);

	mipi_dsi_generic_write_seq(dsi, 0xf0, 0x5a, 0x5a);
	mipi_dsi_generic_write_seq(dsi, 0xf2, 0x13);
	mipi_dsi_generic_write_seq(dsi, 0xf0, 0xa5, 0xa5);

					/* OMOK setting 1 (Initial setting) - Scaler Latch Setting Guide */
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xb0, 0x07);
	/* latch setting 1 : Scaler on/off & address setting & PPS setting -> Image update latch */
	mipi_dsi_generic_write_seq(dsi, 0xf2, 0x3c, 0x10);
	mipi_dsi_generic_write_seq(dsi, 0xb0, 0x0b);
	/* latch setting 2 : Ratio change mode -> Image update latch */
	mipi_dsi_generic_write_seq(dsi, 0xf2, 0x30);
					/* OMOK setting 2 - Seamless setting guide : WQHD */
	mipi_dsi_generic_write_seq(dsi, 0x2a, 0x00, 0x00, 0x05, 0x9f); /* CASET */
	mipi_dsi_generic_write_seq(dsi, 0x2b, 0x00, 0x00, 0x0b, 0x8f); /* PASET */
	mipi_dsi_generic_write_seq(dsi, 0xba, 0x01); /* scaler setup : scaler off */
s6e3ha8_test_key_off_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0x35, 0x00); /* TE Vsync ON */
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xed, 0x4c);
s6e3ha8_test_key_off_f0(dsi);
s6e3ha8_test_key_off_fc(ctx);
	mipi_dsi_generic_write_seq(dsi, 0xc5, 0x0d, 0x10, 0xb4, 0x3e, 0x01);
s6e3ha8_test_key_off_fc(ctx);
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xb9,
				   0x00, 0xb0, 0x81, 0x09, 0x00, 0x00, 0x00,
				   0x11, 0x03);
s6e3ha8_test_key_off_f0(dsi);
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xb0, 0x03);
	mipi_dsi_generic_write_seq(dsi, 0xf6, 0x43);
s6e3ha8_test_key_off_f0(dsi);
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xca,
				   0x07, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80,
				   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
				   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
				   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
				   0x80, 0x80, 0x80, 0x00, 0x00, 0x00);
	mipi_dsi_generic_write_seq(dsi, 0xb1, 0x00, 0x0c);
	mipi_dsi_generic_write_seq(dsi, 0xb5,
				   0x19, 0xdc, 0x16, 0x01, 0x34, 0x67, 0x9a,
				   0xcd, 0x01, 0x22, 0x33, 0x44, 0x00, 0x00,
				   0x05, 0x55, 0xcc, 0x0c, 0x01, 0x11, 0x11,
				   0x10);
	mipi_dsi_generic_write_seq(dsi, 0xf4, 0xeb, 0x28);
	mipi_dsi_generic_write_seq(dsi, 0xf7, 0x03);
s6e3ha8_test_key_off_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0x9f, 0x5a, 0x5a);


s6e3ha8_test_key_on_f0(dsi);
	self_mask_mem_setting(ctx);
	self_mask_mem_image(ctx);
s6e3ha8_test_key_off_f0(dsi);

	s6e3ha8_mdnie(ctx);
	copr_enable(ctx);

	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_on_9f(ctx));
	s6e3ha2_call_write_func(ret, mipi_dsi_dcs_set_display_on(dsi));
	s6e3ha2_call_write_func(ret, s6e3ha2_test_key_off_9f(ctx));

//	s6e3ha2_test_key_on_9f(ctx);
//
//	ret = mipi_dsi_picture_parameter_set(ctx->dsi, &pps);
//	if (ret < 0) {
//		dev_err(panel->dev, "failed to transmit PPS: %d\n", ret);
//		return ret;
//	}
//	s6e3ha2_test_key_off_9f(ctx);


	return 0;
}

static int s6e3ha8_amb577px01_wqhd_off(struct s6e3ha8 *ctx)
{
	struct mipi_dsi_device *dsi = ctx->dsi;
	struct device *dev = &dsi->dev;
	int ret;

	dsi->mode_flags &= ~MIPI_DSI_MODE_LPM;

	mipi_dsi_generic_write_seq(dsi, 0x9f, 0xa5, 0xa5);

	ret = mipi_dsi_dcs_set_display_off(dsi);
	if (ret < 0) {
		dev_err(dev, "Failed to set display off: %d\n", ret);
		return ret;
	}

	mipi_dsi_generic_write_seq(dsi, 0x9f, 0x5a, 0x5a);
s6e3ha8_test_key_on_f0(dsi);
	mipi_dsi_generic_write_seq(dsi, 0xe2, 0x00, 0x00);
s6e3ha8_test_key_off_f0(dsi);
	msleep(20);
	mipi_dsi_generic_write_seq(dsi, 0x9f, 0xa5, 0xa5);

	ret = mipi_dsi_dcs_enter_sleep_mode(dsi);
	if (ret < 0) {
		dev_err(dev, "Failed to enter sleep mode: %d\n", ret);
		return ret;
	}

	mipi_dsi_generic_write_seq(dsi, 0x9f, 0x5a, 0x5a);
	msleep(160);

	return 0;
}

static int s6e3ha8_enable(struct drm_panel *panel)
{

	return 0;
}

static int s6e3ha8_amb577px01_wqhd_prepare(struct drm_panel *panel)
{
	struct s6e3ha8 *ctx = to_s6e3ha8_amb577px01_wqhd(panel);
	struct device *dev = &ctx->dsi->dev;
	struct drm_dsc_picture_parameter_set pps;
	int ret;

	if (ctx->prepared)
		return 0;

	s6e3ha8_power_on(ctx);
	msleep(120);
	s6e3ha8_amb577px01_wqhd_reset(ctx);
	ret = s6e3ha8_amb577px01_wqhd_on(ctx);
//    ret = s6e3ha2_panel_init(ctx);
	if (ret < 0) {
		dev_err(dev, "Failed to initialize panel: %d\n", ret);
		gpiod_set_value_cansleep(ctx->reset_gpio, 1);
		goto err;
	}

	drm_dsc_pps_payload_pack(&pps, &ctx->dsc);

	s6e3ha2_test_key_on_9f(ctx);
	ret = mipi_dsi_picture_parameter_set(ctx->dsi, &pps);
	if (ret < 0) {
		dev_err(panel->dev, "failed to transmit PPS: %d\n", ret);
		return ret;
	}
	s6e3ha2_test_key_off_9f(ctx);

	ret = mipi_dsi_compression_mode(ctx->dsi, true);
	if (ret < 0) {
		dev_err(dev, "failed to enable compression mode: %d\n", ret);
		return ret;
	}


	msleep(28); /* TODO: Is this panel-dependent? */

	ctx->prepared = true;
	ctx->panel.backlight->props.power = FB_BLANK_NORMAL;

	return 0;
err:
    s6e3ha8_power_off(ctx);
	return ret;
}

static int s6e3ha8_amb577px01_wqhd_unprepare(struct drm_panel *panel)
{
	struct s6e3ha8 *ctx = to_s6e3ha8_amb577px01_wqhd(panel);
	struct device *dev = &ctx->dsi->dev;
	int ret;

	if (!ctx->prepared)
		return 0;

	ret = s6e3ha8_amb577px01_wqhd_off(ctx);
	if (ret < 0)
		dev_err(dev, "Failed to un-initialize panel: %d\n", ret);

	gpiod_set_value_cansleep(ctx->reset_gpio, 1);

	s6e3ha8_power_off(ctx);

	ctx->prepared = false;
	return 0;
}

static const struct drm_display_mode s6e3ha8_amb577px01_wqhd_mode = {
	.clock = (1440 + 116 + 44 + 120) * (2960 + 120 + 80 + 124) * 60 / 1000,
	.hdisplay = 1440,
	.hsync_start = 1440 + 116,
	.hsync_end = 1440 + 116 + 44,
	.htotal = 1440 + 116 + 44 + 120,
	.vdisplay = 2960,
	.vsync_start = 2960 + 120,
	.vsync_end = 2960 + 120 + 80,
	.vtotal = 2960 + 120 + 80 + 124,
	.width_mm = 64,
	.height_mm = 132,
};

static int s6e3ha8_amb577px01_wqhd_get_modes(struct drm_panel *panel,
					     struct drm_connector *connector)
{
	struct drm_display_mode *mode;

	mode = drm_mode_duplicate(connector->dev, &s6e3ha8_amb577px01_wqhd_mode);
	if (!mode)
		return -ENOMEM;

	drm_mode_set_name(mode);

	mode->type = DRM_MODE_TYPE_DRIVER | DRM_MODE_TYPE_PREFERRED;
	connector->display_info.width_mm = mode->width_mm;
	connector->display_info.height_mm = mode->height_mm;
	drm_mode_probed_add(connector, mode);

	return 1;
}

static const struct drm_panel_funcs s6e3ha8_amb577px01_wqhd_panel_funcs = {
	.prepare = s6e3ha8_amb577px01_wqhd_prepare,
	.unprepare = s6e3ha8_amb577px01_wqhd_unprepare,
	.get_modes = s6e3ha8_amb577px01_wqhd_get_modes,
//	.enable = s6e3ha8_enable,
};

static int s6e3ha8_amb577px01_wqhd_bl_update_status(struct backlight_device *bl)
{
	struct mipi_dsi_device *dsi = bl_get_data(bl);
	u16 brightness = backlight_get_brightness(bl);
	int ret;

	dsi->mode_flags &= ~MIPI_DSI_MODE_LPM;

	ret = mipi_dsi_dcs_set_display_brightness_large(dsi, brightness);
	if (ret < 0)
		return ret;

	dsi->mode_flags |= MIPI_DSI_MODE_LPM;

	return 0;
}

// TODO: Check if /sys/class/backlight/.../actual_brightness actually returns
// correct values. If not, remove this function.
//static int s6e3ha8_amb577px01_wqhd_bl_get_brightness(struct backlight_device *bl)
//{
//	struct mipi_dsi_device *dsi = bl_get_data(bl);
//	u16 brightness;
//	int ret;
//
//	dsi->mode_flags &= ~MIPI_DSI_MODE_LPM;
//
//	ret = mipi_dsi_dcs_get_display_brightness_large(dsi, &brightness);
//	if (ret < 0)
//		return ret;
//
//	dsi->mode_flags |= MIPI_DSI_MODE_LPM;
//
//	return brightness;
//}

static const struct backlight_ops s6e3ha8_amb577px01_wqhd_bl_ops = {
//	.update_status = s6e3ha8_amb577px01_wqhd_bl_update_status,
//	.update_status = s6e3ha8_set_brightness,
	.update_status = s6e3ha2_set_brightness,

//	.get_brightness = s6e3ha8_amb577px01_wqhd_bl_get_brightness,
};

static struct backlight_device *
s6e3ha8_amb577px01_wqhd_create_backlight(struct mipi_dsi_device *dsi)
{
	struct device *dev = &dsi->dev;
	const struct backlight_properties props = {
		.type = BACKLIGHT_RAW,
		.brightness = S6E3HA8_DEFAULT_BRIGHTNESS,
		.max_brightness = S6E3HA8_MAX_BRIGHTNESS,
	};

	return devm_backlight_device_register(dev, dev_name(dev), dev, dsi,
					      &s6e3ha8_amb577px01_wqhd_bl_ops, &props);
}

static int s6e3ha8_amb577px01_wqhd_probe(struct mipi_dsi_device *dsi)
{
	struct device *dev = &dsi->dev;
	struct s6e3ha8 *ctx;
	int ret;

	ctx = devm_kzalloc(dev, sizeof(*ctx), GFP_KERNEL);
	if (!ctx)
		return -ENOMEM;

	ctx->supplies[0].supply = "vdd3";
	ctx->supplies[1].supply = "vci";
	ctx->supplies[2].supply = "vddr";

	ret = devm_regulator_bulk_get(dev, ARRAY_SIZE(ctx->supplies),
				      ctx->supplies);
	if (ret < 0) {
		dev_err(dev, "failed to get regulators: %d\n", ret);
		return ret;
	}

	ctx->reset_gpio = devm_gpiod_get(dev, "reset", GPIOD_OUT_HIGH);
	if (IS_ERR(ctx->reset_gpio))
		return dev_err_probe(dev, PTR_ERR(ctx->reset_gpio),
				     "Failed to get reset-gpios\n");

	ctx->dsi = dsi;
	mipi_dsi_set_drvdata(dsi, ctx);

	dsi->lanes = 4;
	dsi->format = MIPI_DSI_FMT_RGB888;
	dsi->mode_flags = MIPI_DSI_CLOCK_NON_CONTINUOUS |
		MIPI_DSI_MODE_VIDEO_NO_HFP | MIPI_DSI_MODE_VIDEO_NO_HBP |
		MIPI_DSI_MODE_VIDEO_NO_HSA | MIPI_DSI_MODE_NO_EOT_PACKET;

	drm_panel_init(&ctx->panel, dev, &s6e3ha8_amb577px01_wqhd_panel_funcs,
		       DRM_MODE_CONNECTOR_DSI);
	ctx->panel.prepare_prev_first = true;

	ctx->panel.backlight = s6e3ha8_amb577px01_wqhd_create_backlight(dsi);
	if (IS_ERR(ctx->panel.backlight))
		return dev_err_probe(dev, PTR_ERR(ctx->panel.backlight),
				     "Failed to create backlight\n");

//		ctx->panel.backlight->props.max_brightness = S6E3HA2_MAX_BRIGHTNESS;
//    	ctx->panel.backlight->props.brightness = S6E3HA2_DEFAULT_BRIGHTNESS;
//    	ctx->panel.backlight->props.power = FB_BLANK_POWERDOWN;

	drm_panel_add(&ctx->panel);

	/* This panel only supports DSC; unconditionally enable it */
	dsi->dsc = &ctx->dsc;

	ctx->dsc.dsc_version_major = 1;
	ctx->dsc.dsc_version_minor = 1;

	/* TODO: Pass slice_per_pkt = 1 */
	ctx->dsc.slice_height = 40;
	ctx->dsc.slice_width = 720;
	/*
	 * TODO: hdisplay should be read from the selected mode once
	 * it is passed back to drm_panel (in prepare?)
	 */
	WARN_ON(1440 % ctx->dsc.slice_width);
	ctx->dsc.slice_count = 1440 / ctx->dsc.slice_width;
	ctx->dsc.bits_per_component = 8;
	ctx->dsc.bits_per_pixel = 8 << 4; /* 4 fractional bits */
	ctx->dsc.block_pred_enable = true;

	ret = mipi_dsi_attach(dsi);
	if (ret < 0) {
		dev_err(dev, "Failed to attach to DSI host: %d\n", ret);
		drm_panel_remove(&ctx->panel);
		return ret;
	}

	return 0;
}

static void s6e3ha8_amb577px01_wqhd_remove(struct mipi_dsi_device *dsi)
{
	struct s6e3ha8 *ctx = mipi_dsi_get_drvdata(dsi);
	int ret;

	ret = mipi_dsi_detach(dsi);
	if (ret < 0)
		dev_err(&dsi->dev, "Failed to detach from DSI host: %d\n", ret);

	drm_panel_remove(&ctx->panel);
}

static const struct of_device_id s6e3ha8_amb577px01_wqhd_of_match[] = {
	{ .compatible = "mdss,s6e3ha8-amb577px01-wqhd" }, // FIXME
	{ /* sentinel */ }
};
MODULE_DEVICE_TABLE(of, s6e3ha8_amb577px01_wqhd_of_match);

static struct mipi_dsi_driver s6e3ha8_amb577px01_wqhd_driver = {
	.probe = s6e3ha8_amb577px01_wqhd_probe,
	.remove = s6e3ha8_amb577px01_wqhd_remove,
	.driver = {
		.name = "panel-s6e3ha8-amb577px01-wqhd",
		.of_match_table = s6e3ha8_amb577px01_wqhd_of_match,
	},
};
module_mipi_dsi_driver(s6e3ha8_amb577px01_wqhd_driver);

MODULE_AUTHOR("linux-mdss-dsi-panel-driver-generator <fix@me>"); // FIXME
MODULE_DESCRIPTION("DRM driver for ss_dsi_panel_S6E3HA8_AMB577PX01_WQHD");
MODULE_LICENSE("GPL");
